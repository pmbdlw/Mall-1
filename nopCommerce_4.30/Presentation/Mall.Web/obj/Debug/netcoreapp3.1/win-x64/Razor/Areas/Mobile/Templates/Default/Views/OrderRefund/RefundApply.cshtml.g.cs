#pragma checksum "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9c855ffe0a7268e065ab23b449e4ab79764e50b6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Mobile_Templates_Default_Views_OrderRefund_RefundApply), @"mvc.1.0.view", @"/Areas/Mobile/Templates/Default/Views/OrderRefund/RefundApply.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 10 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.ViewFeatures;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Html;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Rendering;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Http.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Razor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework.Infrastructure;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.DTO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.CommonModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
using Mall.Entities;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9c855ffe0a7268e065ab23b449e4ab79764e50b6", @"/Areas/Mobile/Templates/Default/Views/OrderRefund/RefundApply.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"251375f151a8ed74fad18b07a59f5490bcea9ba2", @"/Areas/Mobile/Templates/Default/Views/_ViewImports.cshtml")]
    public class Areas_Mobile_Templates_Default_Views_OrderRefund_RefundApply : Mall.Web.Framework.MobileWebViewPage<Mall.Web.Areas.Web.Models.RefundApplyModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("form1"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Scripts/v.js?v=20183030"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Scripts/jquery.form.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Scripts/jquery.MallUpload.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
  
    ViewBag.Title = "退款退货申请";
    string errormsg = ViewBag.errormsg;
    var orderVerificationCode = ViewBag.orderVerificationCode as List<OrderVerificationCodeInfo>;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 9 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
  
    long MaxRGDNumber = (long)Model.MaxRefundGoodsNumber;
    decimal MaxRefundAmount = (decimal)Model.MaxRefundAmount;
    var OrderData = Model.OrderInfo;
    long? OrderItemId = (long?)Model.OrderItemId;
    int RefundType = 0;
    bool isRefundOrder = (OrderItemId == null);    //是否为整笔订单退款
    if (Model != null)
    {
        if (Model.RefundMode == Mall.Entities.OrderRefundInfo.OrderRefundMode.OrderRefund)
        {
            isRefundOrder = true;
        }
        if (Model.RefundMode == Mall.Entities.OrderRefundInfo.OrderRefundMode.ReturnGoodsRefund)
        {
            RefundType = 2;
        }
        else
        {
            RefundType = 1;
        }
    }
    if (isRefundOrder)
    {
        RefundType = 1;
    }
    var isVirtual = (int)ViewBag.IsVirtual;
    var virtualProductInfo = ViewBag.VirtualProductInfo as Mall.Entities.VirtualProductInfo;

#line default
#line hidden
#nullable disable
            WriteLiteral("<input type=\"hidden\" name=\"maxNumber\"");
            BeginWriteAttribute("value", " value=\"", 1200, "\"", 1223, 1);
#nullable restore
#line 38 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 1208, MaxRGDNumber, 1208, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input type=\"hidden\" name=\"maxPrice\"");
            BeginWriteAttribute("value", " value=\"", 1265, "\"", 1306, 1);
#nullable restore
#line 39 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 1273, MaxRefundAmount.ToString("F2"), 1273, 33, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input type=\"hidden\" name=\"refGoodsPrice\" id=\"refGoodsPrice\"");
            BeginWriteAttribute("value", " value=\"", 1372, "\"", 1405, 1);
#nullable restore
#line 40 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 1380, Model.RefundGoodsPrice, 1380, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n<div class=\"container refundbg\">\r\n    <div class=\"refund edit-con\">\r\n        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "9c855ffe0a7268e065ab23b449e4ab79764e50b611738", async() => {
                WriteLiteral("\r\n            <input type=\"hidden\" name=\"OrderId\"");
                BeginWriteAttribute("value", " value=\"", 1602, "\"", 1625, 1);
#nullable restore
#line 44 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 1610, OrderData.Id, 1610, 15, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" />\r\n            <input type=\"hidden\" name=\"OrderItemId\"");
                BeginWriteAttribute("value", " value=\"", 1682, "\"", 1704, 1);
#nullable restore
#line 45 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 1690, OrderItemId, 1690, 14, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" />\r\n            <input type=\"hidden\" name=\"RefundType\"");
                BeginWriteAttribute("value", " value=\"", 1760, "\"", 1779, 1);
#nullable restore
#line 46 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 1768, RefundType, 1768, 11, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" />\r\n            <input type=\"hidden\" name=\"Reason\" id=\"Reason\"");
                BeginWriteAttribute("value", " value=\"", 1843, "\"", 1851, 0);
                EndWriteAttribute();
                WriteLiteral(" />            \r\n            ");
#nullable restore
#line 48 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
       Write(Html.Hidden("Id", (Model.RefundId.HasValue ? Model.RefundId.Value : 0)));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n");
#nullable restore
#line 49 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
             if (orderVerificationCode != null && orderVerificationCode.Count > 0)
            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                <div class=\"vericode\">\r\n                    <div class=\"info\">\r\n                        <h3 class=\"title\">核销码</h3>\r\n");
#nullable restore
#line 54 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                         if (virtualProductInfo != null)
                        {
                            if (virtualProductInfo.ValidityType)
                            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                                <p>有效期 ");
#nullable restore
#line 58 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                                  Write(virtualProductInfo.StartDate.Value.ToString("yyyy-MM-dd"));

#line default
#line hidden
#nullable disable
                WriteLiteral(" ~ ");
#nullable restore
#line 58 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                                                                                               Write(virtualProductInfo.EndDate.Value.ToString("yyyy-MM-dd"));

#line default
#line hidden
#nullable disable
                WriteLiteral("</p>\r\n");
#nullable restore
#line 59 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                                <p>长期有效</p>\r\n");
#nullable restore
#line 63 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                            }
                        }

#line default
#line hidden
#nullable disable
                WriteLiteral("                    </div>\r\n                    <ul>\r\n");
#nullable restore
#line 67 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                         foreach (var item in orderVerificationCode)
                        {

#line default
#line hidden
#nullable disable
                WriteLiteral("                            <li>\r\n                                <i class=\"check-custom active j_verificationCode\"");
                BeginWriteAttribute("code", " code=\"", 2995, "\"", 3024, 1);
#nullable restore
#line 70 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 3002, item.VerificationCode, 3002, 22, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral("></i>\r\n                                <span>核销码 ");
#nullable restore
#line 71 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                                      Write(orderVerificationCode.IndexOf(item) + 1);

#line default
#line hidden
#nullable disable
                WriteLiteral("</span>\r\n                                <span>");
#nullable restore
#line 72 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                                 Write(System.Text.RegularExpressions.Regex.Replace(item.VerificationCode, @"(\d{4})", "$1 "));

#line default
#line hidden
#nullable disable
                WriteLiteral("</span>\r\n                            </li>\r\n");
#nullable restore
#line 74 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                        }

#line default
#line hidden
#nullable disable
                WriteLiteral("                    </ul>\r\n                </div>\r\n");
#nullable restore
#line 77 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
            }

#line default
#line hidden
#nullable disable
                WriteLiteral("            <div class=\"group-line\">\r\n                <div class=\"line arrow\" onclick=\"selectway(\'refundtype\',this)\">\r\n                    <label>售后类型</label>\r\n                    <input type=\"text\" disabled=\"disabled\" placeholder=\"请选择售后类型\"");
                BeginWriteAttribute("value", " value=\"", 3627, "\"", 3635, 0);
                EndWriteAttribute();
                WriteLiteral(">\r\n                </div>\r\n                <div class=\"line\" id=\"ReturnGoodsBox\" style=\"display:none\">\r\n                    <label>退货数量</label>\r\n                    ");
#nullable restore
#line 85 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
               Write(Html.TextBox("ReturnQuantity", MaxRGDNumber, new Dictionary<string, object>() { { "class", "ipt" }, { "placeholder", "最多" + MaxRGDNumber + "件" } }));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                </div>\r\n                <div class=\"line\">\r\n                    <label>退款金额</label>\r\n");
#nullable restore
#line 89 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                      
                        var amounthtmlattr = new Dictionary<string, object>() {
                               { "class", "ipt" },{ "placeholder", "最多" + MaxRefundAmount.ToString("f2")+"元" } };
                        if (isRefundOrder || isVirtual == 1)
                        {
                            amounthtmlattr.Add("disabled", "");
                        }
                    

#line default
#line hidden
#nullable disable
                WriteLiteral("                    ");
#nullable restore
#line 97 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
               Write(Html.TextBox("Amount", MaxRefundAmount.ToString("F2"), amounthtmlattr));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                    <span style=""display: none;"">最多<i>￥2.00</i></span>
                </div>
                <div class=""line arrow"" onclick=""selectway('paytype',this)"">
                    <label>退款方式</label>
                    <input type=""text"" disabled=""disabled"" placeholder=""请选择退款方式""");
                BeginWriteAttribute("value", " value=\"", 4864, "\"", 4872, 0);
                EndWriteAttribute();
                WriteLiteral(">\r\n                </div>\r\n                <input type=\"hidden\" name=\"RefundPayType\"");
                BeginWriteAttribute("value", " value=\"", 4957, "\"", 5033, 1);
#nullable restore
#line 104 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 4965, (int)Mall.Entities.OrderRefundInfo.OrderRefundPayType.BackCapital, 4965, 68, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" />\r\n");
#nullable restore
#line 105 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                 if (!string.IsNullOrEmpty(Model.ReturnGoodsAddress))
                {

#line default
#line hidden
#nullable disable
                WriteLiteral("                    <div class=\"line arrow\" id=\"returnGoodsAddress\" style=\"display:none\" onclick=\"selectway(\'goods\',this)\">\r\n                        <label>退货方式</label>\r\n                        <input type=\"text\" disabled=\"disabled\" placeholder=\"请选择退货方式\"");
                BeginWriteAttribute("value", " value=\"", 5383, "\"", 5391, 0);
                EndWriteAttribute();
                WriteLiteral(">\r\n                    </div>\r\n");
#nullable restore
#line 111 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                }

#line default
#line hidden
#nullable disable
                WriteLiteral("                <div class=\"line arrow\" onclick=\"selectway(\'refundreason\',this)\">\r\n                    <label>退款理由</label>\r\n                    <input type=\"text\" disabled=\"disabled\" placeholder=\"请选择售后理由\"");
                BeginWriteAttribute("value", " value=\"", 5646, "\"", 5654, 0);
                EndWriteAttribute();
                WriteLiteral(">\r\n                </div>\r\n                <div class=\"line\">\r\n                    <label>退款说明</label>\r\n                    ");
#nullable restore
#line 118 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
               Write(Html.TextArea("ReasonDetail", Model.RefundReasonDetail, new Dictionary<string, object>() {
                   { "class", "textarea-item" },
                   { "data-check", "0" },
                   { "placeholder", "请填写退款说明" }}));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                </div>\r\n            </div>\r\n            <div class=\"group-line\">\r\n                <div class=\"line\">\r\n                    <label>联系人</label>\r\n                    ");
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
               Write(Html.TextBox("ContactPerson", (string)Model.ContactPerson, new Dictionary<string, object>() {
                               { "class", "ipt" },
                               {"maxlength","20"},
                               { "data-check", "0" },
                               { "placeholder", "请填写联系人姓名" }}));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                </div>\r\n                <div class=\"line\">\r\n                    <label>联系电话</label>\r\n                    ");
#nullable restore
#line 135 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
               Write(Html.TextBox("ContactCellPhone", (string)Model.ContactCellPhone, new Dictionary<string, object>() {
                               { "class", "ipt" },
                               {"maxlength","20"},
                               { "data-check", "0" },
                               { "placeholder", "请填写联系人电话" }}));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                </div>\r\n            </div>\r\n\r\n");
                WriteLiteral("\r\n            <h5>退款凭证：</h5>\r\n            <div>\r\n                <div class=\"comment-photo clearfix\">\r\n");
#nullable restore
#line 227 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                     if (ViewBag.WeiXin == true)
                    {

#line default
#line hidden
#nullable disable
                WriteLiteral("                        <div class=\"wx-img-wrap pull-left\" id=\"UploadPlace\"></div>\r\n                        <div class=\"img-upload-btn pull-left\" id=\"WXimages\" onclick=\"UploadWXImage()\"><i class=\"glyphicon glyphicon-camera\"></i></div>\r\n");
#nullable restore
#line 231 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
                WriteLiteral("                        <div class=\"pic-upload\" id=\"CertImg\"></div>\r\n");
#nullable restore
#line 235 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                    }

#line default
#line hidden
#nullable disable
                WriteLiteral("                </div>\r\n                <p style=\"padding-top:5px;color: #979797;\">最多上传3张图片，每张不超过3M</p>\r\n                <input type=\"hidden\" id=\"CertPic1\" name=\"CertPic1\"");
                BeginWriteAttribute("value", " value=\"", 12693, "\"", 12749, 1);
#nullable restore
#line 238 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 12701, Mall.Core.MallIO.GetImagePath(Model.CertPic1), 12701, 48, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" />\r\n                <input type=\"hidden\" id=\"CertPic2\" name=\"CertPic2\"");
                BeginWriteAttribute("value", " value=\"", 12821, "\"", 12877, 1);
#nullable restore
#line 239 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 12829, Mall.Core.MallIO.GetImagePath(Model.CertPic2), 12829, 48, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" />\r\n                <input type=\"hidden\" id=\"CertPic3\" name=\"CertPic3\"");
                BeginWriteAttribute("value", " value=\"", 12949, "\"", 13005, 1);
#nullable restore
#line 240 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 12957, Mall.Core.MallIO.GetImagePath(Model.CertPic3), 12957, 48, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" />\r\n                <input type=\"hidden\" id=\"IsWxUpload\" name=\"IsWxUpload\" value=\"false\" />\r\n                <input type=\"hidden\" id=\"VerificationCodeIds\" name=\"VerificationCodeIds\"");
                BeginWriteAttribute("value", " value=\"", 13188, "\"", 13196, 0);
                EndWriteAttribute();
                WriteLiteral(" />\r\n            </div>\r\n            <p class=\"ipt02\">\r\n                <input type=\"submit\" id=\"bt-submit\" value=\"确定提交\" />\r\n                <a class=\"btn btn-default\" onclick=\"history.back()\">取消</a>\r\n            </p>\r\n        ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            BeginAddHtmlAttributeValues(__tagHelperExecutionContext, "action", 1, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
#nullable restore
#line 43 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
AddHtmlAttributeValue("", 1511, Url.Action("RefundApply"), 1511, 26, false);

#line default
#line hidden
#nullable disable
            EndAddHtmlAttributeValues(__tagHelperExecutionContext);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n    </div>\r\n    <div class=\"cover\"></div>\r\n    <div class=\"actionsheet\">\r\n        <ul id=\"refundtype\">\r\n");
#nullable restore
#line 253 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
             if (isVirtual == 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li value=\"1\">仅退款</li>\r\n");
#nullable restore
#line 256 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                if (OrderData.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitReceiving || OrderData.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.Finish)
                {
                    if (!isRefundOrder)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <li");
            BeginWriteAttribute("class", " class=\"", 13918, "\"", 13970, 1);
#nullable restore
#line 260 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 13926, RefundType == 2 ? "active" : string.Empty, 13926, 44, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" value=\"2\">退款退货</li>\r\n");
#nullable restore
#line 261 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                    }
                }
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li value=\"1\">仅退款</li>\r\n");
#nullable restore
#line 267 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </ul>\r\n        <ul id=\"paytype\">\r\n            <li");
            BeginWriteAttribute("value", " value=\"", 14195, "\"", 14271, 1);
#nullable restore
#line 270 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 14203, (int)Mall.Entities.OrderRefundInfo.OrderRefundPayType.BackCapital, 14203, 68, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">退款到预存款账户</li>\r\n");
#nullable restore
#line 271 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
             if (Model.BackOut == 1)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li");
            BeginWriteAttribute("value", " value=\"", 14360, "\"", 14432, 1);
#nullable restore
#line 273 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 14368, (int)Mall.Entities.OrderRefundInfo.OrderRefundPayType.BackOut, 14368, 64, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">退款原路返回</li>\r\n");
#nullable restore
#line 274 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n        </ul>\r\n        <ul id=\"goods\">\r\n");
#nullable restore
#line 278 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
             if (!string.IsNullOrEmpty(Model.ReturnGoodsAddress))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li");
            BeginWriteAttribute("value", " value=\"", 14605, "\"", 14647, 3);
            WriteAttributeValue("", 14613, "送货到店", 14613, 4, true);
            WriteAttributeValue(" ", 14617, "退货点：", 14618, 5, true);
#nullable restore
#line 280 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 14622, Model.ReturnGoodsAddress, 14622, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    送货到店 退货点：");
#nullable restore
#line 281 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                        Write(Model.ReturnGoodsAddress);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </li>\r\n");
#nullable restore
#line 283 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </ul>\r\n        <ul id=\"refundreason\">\r\n");
#nullable restore
#line 286 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
             if (Model.RefundReasons != null && Model.RefundReasons.Count > 0)
            {
                foreach (var item in Model.RefundReasons)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <li");
            BeginWriteAttribute("value", " value=\"", 14988, "\"", 15007, 1);
#nullable restore
#line 290 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 14996, item.Value, 14996, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 290 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                                       Write(item.Text);

#line default
#line hidden
#nullable disable
            WriteLiteral("</li>\r\n");
#nullable restore
#line 291 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                }
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </ul>\r\n        <div class=\"quit\" onclick=\"closeSheet()\">取消</div>\r\n    </div>\r\n</div>\r\n\r\n<input type=\"hidden\" id=\"errormsg\"");
            BeginWriteAttribute("value", " value=\"", 15190, "\"", 15209, 1);
#nullable restore
#line 298 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
WriteAttributeValue("", 15198, errormsg, 15198, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n\r\n\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "9c855ffe0a7268e065ab23b449e4ab79764e50b637898", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "9c855ffe0a7268e065ab23b449e4ab79764e50b638938", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "9c855ffe0a7268e065ab23b449e4ab79764e50b639978", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n");
#nullable restore
#line 305 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
 if (ViewBag.WeiXin != true)
{

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    <script>
        $(function () {
            $(""#CertImg"").MallUpload({
                imagesCount: 3,
                imgFieldName: ""RefundCertPic"",
                maxSize: 3,
                canDel: true,
                isMobile: true
            })
        });
    </script>
");
#nullable restore
#line 318 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 319 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
 if (ViewBag.WeiXin == true)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <script src=\"https://res.wx.qq.com/open/js/jweixin-1.0.0.js\"></script>\r\n    <script>\r\n        $(function() {\r\n            var AppId = \'");
#nullable restore
#line 324 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                    Write(ViewBag.ShareArgs.AppId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\'; // 必填，公众号的唯一标识\r\n            var Timestamp = ");
#nullable restore
#line 325 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                       Write(ViewBag.ShareArgs.Timestamp);

#line default
#line hidden
#nullable disable
            WriteLiteral("; // 必填，生成签名的时间戳\r\n            var NonceStr = \'");
#nullable restore
#line 326 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                       Write(ViewBag.ShareArgs.NonceStr);

#line default
#line hidden
#nullable disable
            WriteLiteral("\'; // 必填，生成签名的随机串\r\n            var Signature = \'");
#nullable restore
#line 327 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                        Write(ViewBag.ShareArgs.Signature);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"'; // 必填，签名，见附录1
            wx.config({
                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
                appId: AppId, // 必填，公众号的唯一标识
                timestamp: Timestamp, // 必填，生成签名的时间戳
                nonceStr: NonceStr, // 必填，生成签名的随机串
                signature: Signature, // 必填，签名，见附录1
                jsApiList: ['chooseImage', 'uploadImage'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
            });
        });
        function UploadWXImage() {
            var length = $(""#UploadPlace .upload-img-box img"").length;
            if(length == 3) {
                $.dialog.errorTips(""最多只能选择三张图片！"");
                return;
            }
            var num = 3 - length;
            wx.chooseImage({
                count: num, // 默认9
                sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有
                sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有
                success: function(res) {
                    ");
            WriteLiteral(@"var localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片
                    var i = 0,
                        len = localIds.length;
                    function UploadOneImage() {
                        wx.uploadImage({
                            localId: localIds[i], // 需要上传的图片的本地ID，由chooseImage接口获得
                            isShowProgressTips: 1, // 默认为1，显示进度提示
                            success: function(res) {
                                var serverId = res.serverId; // 返回图片的服务器端ID
                                var html = ""<div  class='upload-img-box'>"";
                                html += '<img width=""50"" height=""50"" src=""' + localIds[i] + '"" style=""margin-right:8px;position:relative;"" data-serverid=""' + serverId + '""/>';
                                html += '<span class=""glyphicon glyphicon-minus-sign"" onclick=""Remove(this)""style=""position:relative;top:-55px;left:43px;font-size:13px;color:#d50014;""></span>';
                                html += '<input ");
            WriteLiteral(@"type=""hidden"" class=""hiddenImgSrc"" value=""' + serverId + '"" name=""RefundCertPic"">';
                                html += '</div>';
                                $(""#UploadPlace"").append(html);
                                $(""#IsWxUpload"").val(""true"");
                                i++;
                                if(i < len)
                                    UploadOneImage(localIds[i]);
                            }
                        });
                    }
                    UploadOneImage();
                }
            });
        }
        function Remove(obj) {
            $(obj).parent().remove();
        }
    </script>
");
#nullable restore
#line 379 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<script type=""text/javascript"">
    $("".refund-select span"").click(function () {
        $('i', $(this).parent().parent()).hide();
        $('span', $(this).parent().parent()).removeClass('active');
        $(this).next("".glyphicon-ok"").toggle();
        if ($(this).hasClass(""active"")) {
            //$(this).removeClass(""active"");
        } else {
            $(this).addClass(""active"");
        };
    });

    function TipsError() {
        var errmsg = $(""#errormsg"").val();
        if (errmsg.length > 0) {
            $.dialog.tips(errmsg, function () {
                history.go(-1);//返回
            });
        }
    }


    var isLoading = false;

    var maxNumber = $(':input[name=maxNumber]').val(),
        maxPrice = $(':input[name=maxPrice]').val();

    $(function () {
        //$(""#Reason"").focus();
        TipsError();
        var maxRefundAmount = parseFloat(maxPrice);
        $(""#ReturnQuantity"").on(""keyup"", function () {
            var refGoodsPrice = $(""#refGo");
            WriteLiteral(@"odsPrice"").val();
            refGoodsPrice = parseFloat(refGoodsPrice);
            var rnum = $(this).val();
            rnum = parseInt(rnum);
            maxNumber = parseInt(maxNumber);
            if (refGoodsPrice > 0 && rnum > 0) {
                var ram = (rnum * refGoodsPrice).toFixed(2);
                ram = parseFloat(ram);
                maxPrice = parseFloat(maxPrice);
                if (rnum >= maxNumber) {
                    ram = maxPrice;
                }
                if (ram > maxPrice) {
                    ram = maxPrice;
                }
                $(""#Amount"").val(ram);
                maxRefundAmount = ram;
            }
        });
        $(""#Amount"").on(""keyup"",function(){
            if(parseFloat($(this).val()) > maxRefundAmount){
                $(this).val(maxRefundAmount);
            }
        });
        $("".j_verificationCode"").click(function(){
            var _this=$(this);
            if(_this.hasClass('active')){
                ");
            WriteLiteral(@"_this.removeClass('active');
            }else{
                _this.addClass('active');
            }
            var refGoodsPrice = $(""#refGoodsPrice"").val();
            refGoodsPrice = parseFloat(refGoodsPrice);
            var rnum= $(""div.vericode .active"").length;
            var ram = (rnum * refGoodsPrice).toFixed(2);
            ram = parseFloat(ram);
            maxPrice = parseFloat(maxPrice);
            if (rnum >= maxNumber) {
                ram = maxPrice;
            }
            if (ram > maxPrice) {
                ram = maxPrice;
            }
            $(""#Amount"").val(ram);
        });
        if('");
#nullable restore
#line 458 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
       Write(isVirtual);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"'==1){
            $(""#Amount"").bind(""keyup"", function () {
                var _value=parseFloat($(this).val());
                var refGoodsPrice = $(""#refGoodsPrice"").val();
                var rnum= $(""div.vericode .active"").length;
                var ram = (rnum * refGoodsPrice).toFixed(2);
                ram = parseFloat(ram);
                maxPrice = parseFloat(maxPrice);
                if (rnum >= maxNumber) {
                    ram = maxPrice;
                }
                if (ram > maxPrice) {
                    ram = maxPrice;
                }
                if(_value>ram){
                    $(this).val(ram);
                    $(this).attr(""placeholder"",""最多""+ram+""元"");
                }
            });
        }
    });
    var loadingobj;
    var a = v({
        form: 'form1',
        beforeSubmit: function () {
            var a = $('#Amount').val();
            if ((+a) > (+maxPrice)) {
                $.dialog.errorTips(""退款金额不能超过"" + maxPrice, '', 3);
");
            WriteLiteral(@"                return false;
            }
            var refundType=$(""#refundtype li.active"").attr(""value"");
            if(typeof(refundType)==""undefined""){
                $.dialog.errorTips('请选择售后类型', '', 3);
                return false;
            }
            var refundPayType=$(""#paytype li.active"").attr(""value"");
            if(typeof(refundPayType)==""undefined""){
                $.dialog.errorTips(""请选择退款方式"", '', 3);
                return false;
            }
            
            var reson = $(""#refundreason"").find(""li.active"").html();
            if (!reson || typeof (reson) == ""undefined"" || reson ==""选择售后理由""){
                $.dialog.errorTips(""请选择售后理由"", '', 3);
                return false;
            }
            $(""#Reason"").val(reson);

            if (refundType== 2) {
                var a = $('#ReturnQuantity').val();
                if ((+a) > (+maxNumber)) {
                    $.dialog.errorTips('不能超过' + maxNumber + '件或者只能为数字!', '', 3);
               ");
            WriteLiteral(@"     return false;
                }
            }
            var regPerson = /^[\u4E00-\u9FA5A-Za-z0-9_\ ]{1,20}$/i;
            if (!regPerson.test($('#ContactPerson').val())) {
                $.dialog.errorTips(""联系人不能包含非法字符！"", '', 3);
                return false;
            }
            var regTel = /([\d]{11}$)|(^0[\d]{2,3}-?[\d]{7,8}$)/;
            if (!regTel.test($('#ContactCellPhone').val())) {
                $.dialog.errorTips(""联系电话格式不对,请检查！"", '', 3);
                return false;
            }

            var arr = new Array();
            $.each($('div.vericode .active'), function (i) {
                arr[i] = $(this).attr(""code"");
            });
            if('");
#nullable restore
#line 528 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
           Write(isVirtual);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"'==1){
                if(arr.length==0){
                    $.dialog.errorTips(""请选择退款核销码"", '', 3);
                    return false;
                }
            }
            var vals = arr.join("","");
            $(""#VerificationCodeIds"").val(vals);

            if (isLoading) { return false; }
            loadingobj = showLoading();
            isLoading = true;
            $(""#bt-submit"").val(""提交中..."");
            var rpics = $(""input[name='RefundCertPic']"");
            if (rpics.length > 0) {
                $(""#CertPic1"").val("""");
                $(""#CertPic2"").val("""");
                $(""#CertPic3"").val("""");
                rpics.each(function (index) {
                    var _t = $(this);
                    $(""#CertPic"" + (index+1)).val(_t.val());
                });
            }
        },
        ajaxSubmit: true,
        afterSubmit: function (data) {// 表单提交成功回调
            isLoading = false;
            loadingobj.close();
            $(""#bt-submit"").val(""提交"");
");
            WriteLiteral("            if (data.success) {\r\n                $.dialog.succeedTips(\"提交成功！\", function () {\r\n                    window.location.href = \"/");
#nullable restore
#line 559 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                                         Write(CurrentAreaName);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"/OrderRefund/RefundList"";
                }, 3);
            } else {
                $.dialog.errorTips(data.msg, '', 3);
            }
        }
    });

    $(""#refundtype li"").click(function(){
        var  rtype = $(this).attr('value');
        $(""input[name='RefundType']"").val(rtype);
        ChangeRefundType(rtype);
    });
    //$(""p[name='iRefundType']"").click(function () {
    //    var _t = $('i', this);
    //    rtype = _t.attr('value');
    //    if ($('i', this).css('display') != 'none')
    //        $(""input[name='RefundType']"").val(rtype);
    //    ChangeRefundType(rtype);
    //});

    $(""#paytype li"").click(function(){
        var  rtype = $(this).attr('value');
        $(""input[name='RefundPayType']"").val(rtype);
    });
    //$(""p[name='iRefundPayType']"").click(function () {
    //    var _t = $('i', this);
    //    rtype = _t.attr('value');
    //    if ($('i', this).css('display') != 'none')
    //        $(""input[name='RefundPayType']"").val(rtype);
   ");
            WriteLiteral(@" //});

    function ChangeRefundType(v) {
        var rgbox = $(""#ReturnGoodsBox"");
        if (v == 2) {
            rgbox.show();
            $('#returnGoodsAddress').show();
        } else {
            rgbox.hide();
            $('#returnGoodsAddress').hide();
        }

    }
    ChangeRefundType(");
#nullable restore
#line 602 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\OrderRefund\RefundApply.cshtml"
                 Write(RefundType);

#line default
#line hidden
#nullable disable
            WriteLiteral(@");

    function selectway(type,obj){
        $("".actionsheet ul"").hide();
        $("".actionsheet #""+type).show();
        $("".actionsheet"").addClass('active');
        $("".cover"").show();
        obj = $(obj).find('input');
        selectClick(type,obj);
    }
    function closeSheet(){
        $("".actionsheet"").removeClass('active');
        $("".cover"").hide();
    }
    function selectClick(type,obj){
        $("".actionsheet #""+type+"" li"").click(function(){
            var parent=$(this).parent(""ul"");
            parent.find(""li"").removeClass(""active"");
            $(this).addClass(""active"");
            $("".actionsheet #""+type).hide();
            closeSheet();
            $(obj).val($(this).html());
        });
    }
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Mall.Web.Areas.Web.Models.RefundApplyModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
