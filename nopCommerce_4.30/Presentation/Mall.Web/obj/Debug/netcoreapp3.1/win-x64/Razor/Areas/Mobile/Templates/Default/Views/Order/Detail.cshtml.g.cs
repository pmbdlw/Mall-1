#pragma checksum "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f3c1b9711383ec19230bb232bc50191308246ab7"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Mobile_Templates_Default_Views_Order_Detail), @"mvc.1.0.view", @"/Areas/Mobile/Templates/Default/Views/Order/Detail.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 10 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.ViewFeatures;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Html;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Rendering;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Http.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Razor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework.Infrastructure;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
using Mall.CommonModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
using Mall.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
using Mall.DTO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
using Mall.Entities;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f3c1b9711383ec19230bb232bc50191308246ab7", @"/Areas/Mobile/Templates/Default/Views/Order/Detail.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"251375f151a8ed74fad18b07a59f5490bcea9ba2", @"/Areas/Mobile/Templates/Default/Views/_ViewImports.cshtml")]
    public class Areas_Mobile_Templates_Default_Views_Order_Detail : Mall.Web.Framework.MobileWebViewPage<Mall.Entities.OrderInfo>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Images/detailHB_03.png"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 7 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
  
    ViewBag.Title = "订单详情";
    bool isExpire = false;//是否过了维权期
    bool isCanRefundOrder = true;//整笔订单是否可退
    if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.Finish)
    {
        if ((bool)ViewBag.IsRefundTimeOut)
        {
            isExpire = true;
        }
    }
    var detail = ViewBag.Detail as Mall.DTO.OrderDetail;
    isCanRefundOrder = (bool)ViewBag.isCanRefundOrder && !detail.OrderItems.Any(e => e.IsCanRefund == true);
    FightGroupOrderJoinStatus? fgojoinstate = Model.FightGroupOrderJoinStatus;
    bool canfgrefund = true;
    if (Model.OrderType == Mall.Entities.OrderInfo.OrderTypes.FightGroup)
    {
        canfgrefund = (bool)Model.FightGroupCanRefund;
    }
    var shopBranchInfo = ViewBag.ShopBranchInfo as ShopBranch;
    var virtualProductInfo = ViewBag.virtualProductInfo as Mall.Entities.VirtualProductInfo;
    var orderVerificationCodes = ViewBag.orderVerificationCodes as List<Mall.Entities.OrderVerificationCodeInfo>;
    var virtualOrderItemInfos = ViewBag.virtualOrderItemInfos as List<Mall.Entities.VirtualOrderItemInfo>;
    var isCanRefundVirtual = false;
    if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitVerification)
    {
        if (virtualProductInfo != null)
        {
            if (virtualProductInfo.SupportRefundType == 2)
            {
                isCanRefundVirtual = true;
            }
            else if (virtualProductInfo.SupportRefundType == 1)
            {
                if (virtualProductInfo.EndDate.Value > DateTime.Now)
                {
                    isCanRefundVirtual = true;
                }
            }
            else if (virtualProductInfo.SupportRefundType == 3)
            {
                isCanRefundVirtual = false;
            }
            if (isCanRefundVirtual)
            {
                long num = orderVerificationCodes.Where(a => a.Status == OrderInfo.VerificationCodeStatus.WaitVerification).Count();
                if (num > 0)
                {
                    isCanRefundVirtual = true;
                }
                else
                {
                    isCanRefundVirtual = false;
                }
            }
        }
    }
    var hasExpressStatus = !string.IsNullOrWhiteSpace(Model.ShipOrderNumber);
    var orderInvoice = ViewBag.OrderInvoiceInfo as OrderInvoiceInfo;
    var shipperAddress = (string)ViewBag.ShipperAddress;
    var shipperTelPhone = (string)ViewBag.ShipperTelPhone;

#line default
#line hidden
#nullable disable
            WriteLiteral("<div class=\"container order-detail\">\r\n\r\n    <div class=\"status\">\r\n        订单状态：\r\n        <span>\r\n            ");
#nullable restore
#line 74 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
       Write(Model.OrderStatus.ToDescription());

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 75 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.OrderType == Mall.Entities.OrderInfo.OrderTypes.FightGroup)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <i");
            BeginWriteAttribute("class", " class=\"", 2918, "\"", 2979, 3);
            WriteAttributeValue("", 2926, "fgordstatus", 2926, 11, true);
            WriteAttributeValue("  ", 2937, "fgordstatus", 2939, 13, true);
#nullable restore
#line 77 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 2950, fgojoinstate.GetHashCode(), 2950, 29, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 77 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                                                             Write(fgojoinstate.ToDescription());

#line default
#line hidden
#nullable disable
            WriteLiteral("</i>\r\n");
#nullable restore
#line 78 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </span>\r\n    </div>\r\n");
#nullable restore
#line 81 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
     if (Model.OrderType == Mall.Entities.OrderInfo.OrderTypes.Virtual&&!string.IsNullOrWhiteSpace(shipperAddress)&&!string.IsNullOrWhiteSpace(shipperTelPhone))
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"street-well common virtual\">\r\n            <span>联系电话：");
#nullable restore
#line 84 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                  Write(shipperTelPhone);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            <span>核销地址：");
#nullable restore
#line 85 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                  Write(shipperAddress);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n        </div>\r\n");
#nullable restore
#line 87 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 88 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
     if (Model.OrderType != Mall.Entities.OrderInfo.OrderTypes.Virtual && Model.DeliveryType != Mall.CommonModel.DeliveryType.SelfTake)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"street-well common\">\r\n\t    \t<i class=\"iconfonts icon-icon_location\"></i>\r\n\t        <p>");
#nullable restore
#line 92 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
          Write(Model.ShipTo);

#line default
#line hidden
#nullable disable
            WriteLiteral(", ");
#nullable restore
#line 92 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                         Write(Model.CellPhone);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n\t        <span>");
#nullable restore
#line 93 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             Write(Model.RegionFullName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 93 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                   Write(Model.Address);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n\t    </div>\r\n");
#nullable restore
#line 95 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 96 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
     if (Model.OrderType != Mall.Entities.OrderInfo.OrderTypes.Virtual && shopBranchInfo != null)
    {
       if (Model.DeliveryType == Mall.CommonModel.DeliveryType.SelfTake)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a class=\"street-well common shopaddr\" href=\"javascript:void(0);\"");
            BeginWriteAttribute("onclick", " onclick=\"", 4038, "\"", 4142, 7);
            WriteAttributeValue("", 4048, "onMapClick(", 4048, 11, true);
#nullable restore
#line 100 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 4059, shopBranchInfo.Latitude, 4059, 24, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4083, ",", 4083, 1, true);
#nullable restore
#line 100 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 4084, shopBranchInfo.Longitude, 4084, 25, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4109, ",\'", 4109, 2, true);
#nullable restore
#line 100 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 4111, shopBranchInfo.AddressDetail, 4111, 29, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4140, "\')", 4140, 2, true);
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <i class=\"iconfonts icon-icon_location\"></i>\r\n                    <p>联系电话: ");
#nullable restore
#line 102 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                        Write(shopBranchInfo.ContactPhone);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                    <p class=\"mt10\">门店地址: ");
#nullable restore
#line 103 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                     Write(shopBranchInfo.AddressFullName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                </a>\r\n");
#nullable restore
#line 105 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
         }
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"pro-list common\">\r\n");
#nullable restore
#line 108 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
         if (shopBranchInfo != null)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <a class=\"shopname\"");
            BeginWriteAttribute("href", " href=\"", 4510, "\"", 4572, 4);
            WriteAttributeValue("", 4517, "/", 4517, 1, true);
#nullable restore
#line 110 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 4518, CurrentAreaName, 4518, 18, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4536, "/shopbranch/Index/", 4536, 18, true);
#nullable restore
#line 110 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 4554, shopBranchInfo.Id, 4554, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                <i class=\"iconfonts icon-icon_store\"></i>\r\n                <span>");
#nullable restore
#line 112 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(shopBranchInfo.ShopBranchName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                <i class=\"glyphicon glyphicon-menu-right\"></i>\r\n            </a>\r\n");
#nullable restore
#line 115 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
        }
        else
        {
            if (detail.VShopId > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a class=\"shopname\"");
            BeginWriteAttribute("href", " href=\"", 4901, "\"", 4956, 4);
            WriteAttributeValue("", 4908, "/", 4908, 1, true);
#nullable restore
#line 120 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 4909, CurrentAreaName, 4909, 18, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4927, "/vshop/detail/", 4927, 14, true);
#nullable restore
#line 120 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 4941, detail.VShopId, 4941, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <i class=\"iconfonts icon-icon_store\"></i>\r\n                    <span>");
#nullable restore
#line 122 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(detail.ShopName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                    <i class=\"glyphicon glyphicon-menu-right\"></i>\r\n                </a>\r\n");
#nullable restore
#line 125 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a class=\"shopname\">\r\n                    <i class=\"iconfonts icon-icon_store\"></i>\r\n                    <span>");
#nullable restore
#line 130 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(detail.ShopName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                    <i class=\"glyphicon glyphicon-menu-right\"></i>\r\n                </a>\r\n");
#nullable restore
#line 133 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }
        }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 136 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
         foreach (var orderItem in detail.OrderItems)
        {
            var href = "/m-wap/product/detail/"+orderItem.ProductId;
            if (shopBranchInfo != null&&Model.OrderType==OrderInfo.OrderTypes.Virtual)
            {
                href = "/m-wap/branchproduct/vdetails/"+orderItem.ProductId+"?shopBranchId="+shopBranchInfo.Id;
            }
            if (ViewBag.Bonus != null)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"dialog-HB\" id=\"paymentsChooser\"><a");
            BeginWriteAttribute("href", " href=\"", 5966, "\"", 5991, 1);
#nullable restore
#line 145 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 5973, ViewBag.ShareHref, 5973, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "f3c1b9711383ec19230bb232bc50191308246ab722710", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("</a></div>\r\n");
#nullable restore
#line 146 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("            <a");
            BeginWriteAttribute("href", " href=\"", 6101, "\"", 6113, 1);
#nullable restore
#line 147 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 6108, href, 6108, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                <div class=\"shopcart-m-item\">\r\n                    <div class=\'shopcart-item-pic\'>\r\n                        <img");
            BeginWriteAttribute("src", " src=\"", 6245, "\"", 6274, 1);
#nullable restore
#line 150 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 6251, orderItem.ProductImage, 6251, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                    </div>\r\n                    <div class=\'shpcart-item-txt\'>\r\n                        <div class=\"shopcart-txt-t \">\r\n                            <div class=\"shopcart-txt-name two-text-overflow\">");
#nullable restore
#line 154 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                                                        Write(orderItem.ProductName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\r\n                            <div class=\"shopcart-txt-saleprice \">\r\n                                <span>¥ ");
#nullable restore
#line 156 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                   Write(orderItem.Price.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                                <div class=\"shopcart-item-num\">\r\n                                    <div class=\"txt \">× ");
#nullable restore
#line 158 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                                    Write(orderItem.Count);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>
                                </div>
                            </div>
                        </div>
                        <div class=""shopcart-txt-b "">
                            <p class=""shpcart-item-skuname"">
                                ");
#nullable restore
#line 164 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                           Write(orderItem.Color);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 164 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                             Write(new HtmlString(orderItem.Size));

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 164 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                                                              Write(orderItem.Version);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n");
#nullable restore
#line 168 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     if (orderItem.IsCanRefund && orderItem.EnabledRefundAmount > 0)
                    {
                        bool isShowRefund = false;
                        if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.Finish)
                        {
                            isShowRefund = true;
                        }
                        if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitReceiving)
                        {
                            isShowRefund = true;
                        }
                        if (orderItem.RefundStats == 4)
                        {
                            isShowRefund = false;
                        }
                        if (isShowRefund&& Model.OrderType != OrderInfo.OrderTypes.Virtual)
                        {
                            if (Model.PaymentType != Mall.Entities.OrderInfo.PaymentTypes.CashOnDelivery
                            || Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.Finish)
                            {
                                if (!isExpire)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <a class=\"btn btn-default\"");
            BeginWriteAttribute("href", " href=\"", 8484, "\"", 8574, 6);
            WriteAttributeValue("", 8491, "/", 8491, 1, true);
#nullable restore
#line 190 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 8492, CurrentAreaName, 8492, 18, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 8510, "/OrderRefund/RefundApply/?orderid=", 8510, 34, true);
#nullable restore
#line 190 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 8544, Model.Id, 8544, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 8553, "&itemId=", 8553, 8, true);
#nullable restore
#line 190 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 8561, orderItem.Id, 8561, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">申请售后</a>\r\n");
#nullable restore
#line 191 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                }
                            }
                        }
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 195 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     if (orderItem.OrderRefundId > 0 || detail.OrderRefundId > 0)
                    {
                        var refundid = detail.OrderRefundId;
                        var refundstate = detail.RefundStats;
                        if (orderItem.OrderRefundId > 0)
                        {
                            refundid = orderItem.OrderRefundId;
                            refundstate = orderItem.RefundStats;
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <a class=\"btn btn-default\"");
            BeginWriteAttribute("href", " href=\"", 9226, "\"", 9289, 4);
            WriteAttributeValue("", 9233, "/", 9233, 1, true);
#nullable restore
#line 204 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 9234, CurrentAreaName, 9234, 18, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 9252, "/OrderRefund/RefundDetail/", 9252, 26, true);
#nullable restore
#line 204 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 9278, refundid, 9278, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n");
#nullable restore
#line 205 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                             switch (refundstate)
                            {
                                case 4:
                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 208 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                Write("退款拒绝");

#line default
#line hidden
#nullable disable
#nullable restore
#line 208 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                             
                                    break;
                                case 7:
                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 211 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                Write("退款成功");

#line default
#line hidden
#nullable disable
#nullable restore
#line 211 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                             
                                    break;
                                default:
                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 214 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                Write("退款中");

#line default
#line hidden
#nullable disable
#nullable restore
#line 214 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                            
                                    break;
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </a>\r\n");
#nullable restore
#line 218 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                </div>\r\n            </a>\r\n");
#nullable restore
#line 221 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\r\n\r\n");
#nullable restore
#line 224 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
     if (orderVerificationCodes != null && orderVerificationCodes.Count > 0)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"vericode\">\r\n            <div class=\"info\">\r\n                <h3 class=\"title\">核销码</h3>\r\n");
#nullable restore
#line 229 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 if (virtualProductInfo != null)
                {
                    if (virtualProductInfo.ValidityType)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <p>有效期 ");
#nullable restore
#line 233 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                          Write(virtualProductInfo.StartDate.Value.ToString("yyyy-MM-dd"));

#line default
#line hidden
#nullable disable
            WriteLiteral(" ~ ");
#nullable restore
#line 233 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                                                                       Write(virtualProductInfo.EndDate.Value.ToString("yyyy-MM-dd"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n");
#nullable restore
#line 234 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <p>长期有效</p>\r\n");
#nullable restore
#line 238 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 240 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 if (isCanRefundVirtual)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <a class=\"btn btn-default\" href=\"javascript:RefundApply();\">申请退款</a>\r\n");
#nullable restore
#line 243 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("            </div>\r\n            <ul>\r\n");
#nullable restore
#line 246 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 foreach (var item in orderVerificationCodes)
                {
                    var status = "used";
                    if (item.Status == Mall.Entities.OrderInfo.VerificationCodeStatus.WaitVerification)
                    {
                        status = "wait";
                    }
                    else if (item.Status == Mall.Entities.OrderInfo.VerificationCodeStatus.Refund)
                    {
                        status = "ing";
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <li");
            BeginWriteAttribute("class", " class=\"", 11301, "\"", 11316, 1);
#nullable restore
#line 257 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 11309, status, 11309, 7, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                        <img");
            BeginWriteAttribute("src", " src=\"", 11348, "\"", 11366, 1);
#nullable restore
#line 258 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 11354, item.QRCode, 11354, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" width=\"22\" height=\"22\" />\r\n                        <span>核销码 ");
#nullable restore
#line 259 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                              Write(orderVerificationCodes.IndexOf(item) + 1);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                        <span>");
#nullable restore
#line 260 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                         Write(System.Text.RegularExpressions.Regex.Replace(item.VerificationCode, @"(\d{4})", "$1 "));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                        <span class=\"fr\">");
#nullable restore
#line 261 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                    Write(item.Status.ToDescription());

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                    </li>\r\n");
#nullable restore
#line 263 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("            </ul>\r\n        </div>\r\n");
#nullable restore
#line 266 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n    <div class=\"user\">\r\n        <ul class=\"infolist\">\r\n            <li>\r\n                <label>商品金额</label>\r\n                <span>¥");
#nullable restore
#line 272 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                   Write((Model.ProductTotalAmount).ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n\r\n");
#nullable restore
#line 275 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.FullDiscount > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>满额减</label>\r\n                    <span>-¥");
#nullable restore
#line 279 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                       Write(Model.FullDiscount.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 281 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 283 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.DiscountAmount > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>优惠券</label>\r\n                    <span>-¥");
#nullable restore
#line 287 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                       Write(Model.DiscountAmount.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 289 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 290 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.IntegralDiscount > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>积分抵扣</label>\r\n                    <span>-¥");
#nullable restore
#line 294 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                       Write(Model.IntegralDiscount.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 296 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 298 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.OrderType != OrderInfo.OrderTypes.Virtual)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>运费</label>\r\n                    <span>¥");
#nullable restore
#line 302 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                      Write(Model.Freight.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 304 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                if (Model.Tax > 0)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <li>\r\n                        <label>税费</label>\r\n                        <span>¥");
#nullable restore
#line 308 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                          Write(Model.Tax.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                    </li>\r\n");
#nullable restore
#line 310 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n            <li>\r\n");
#nullable restore
#line 314 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 if (Model.PaymentType == Mall.Entities.OrderInfo.PaymentTypes.CashOnDelivery)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("<label>订单金额</label> ");
#nullable restore
#line 315 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                     }
                else
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <label>实付金额</label>\r\n");
#nullable restore
#line 319 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                <span class=\"price fontbold\">¥");
#nullable restore
#line 320 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                          Write((Model.OrderTotalAmount).ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n\r\n");
#nullable restore
#line 323 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.OrderStatus != OrderInfo.OrderOperateStatus.WaitPay)
            {
                if (Model.CapitalAmount>0 || Model.OrderPayAmount > 0)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <h3 class=\"title\">付款信息</h3>\r\n");
#nullable restore
#line 328 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }
                if (Model.CapitalAmount>0)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <li>\r\n                        <label>预存款抵扣</label>\r\n                        <span>¥");
#nullable restore
#line 333 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                          Write(Model.CapitalAmount.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                    </li>\r\n");
#nullable restore
#line 335 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }
                if (Model.OrderPayAmount > 0)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <li>\r\n                        <label>");
#nullable restore
#line 339 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                          Write(Model.PaymentTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n                        <span>¥");
#nullable restore
#line 340 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                          Write(Model.OrderPayAmount.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                    </li>\r\n");
#nullable restore
#line 342 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </ul>\r\n    </div>    \r\n    <div class=\"user\">\r\n        <ul class=\"infolist\">\r\n            <li>\r\n                <label>订单号</label>\r\n                <span>");
#nullable restore
#line 350 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(Model.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n            <li>\r\n                <label>支付方式</label>\r\n                <span>");
#nullable restore
#line 354 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(Model.PaymentTypeDesc);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n            <li>\r\n                <label>下单时间</label>\r\n                <span>");
#nullable restore
#line 358 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(Model.OrderDate);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n            <li>\r\n                <label>买家留言</label>\r\n                <span>");
#nullable restore
#line 362 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(Model.OrderRemarks);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n");
#nullable restore
#line 367 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
     if (virtualOrderItemInfos!=null&& virtualOrderItemInfos.Count>0)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"user\">\r\n            <h3 class=\"title\">用户信息</h3>\r\n            <ul class=\"infolist\">\r\n");
#nullable restore
#line 372 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 foreach (var item in virtualOrderItemInfos)
                {
                    if (item.VirtualProductItemType == Mall.Entities.ProductInfo.VirtualProductItemType.Picture)
                    {
                    	
                        var pics = item.Content.Split(',');

#line default
#line hidden
#nullable disable
            WriteLiteral("                    \t<li class=\"imgs\">\r\n                        \t<label>");
#nullable restore
#line 379 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                              Write(item.VirtualProductItemName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n                            <div>\r\n");
#nullable restore
#line 381 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                 foreach (var src in pics)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <img");
            BeginWriteAttribute("src", " src=\"", 15702, "\"", 15712, 1);
#nullable restore
#line 383 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 15708, src, 15708, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n");
#nullable restore
#line 384 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </div>\r\n                        </li>\r\n");
#nullable restore
#line 387 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    \t<li>\r\n\t                        <label>");
#nullable restore
#line 391 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                              Write(item.VirtualProductItemName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n\t                        <span>");
#nullable restore
#line 392 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                             Write(item.Content);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                        </li>\r\n");
#nullable restore
#line 394 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("            </ul>\r\n        </div>\r\n");
#nullable restore
#line 398 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 399 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
     if (orderInvoice != null&&Model.OrderType!=OrderInfo.OrderTypes.Virtual)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"user\">\r\n        <ul class=\"infolist\">\r\n            <h3 class=\"title\">发票信息</h3>\r\n            <li>\r\n                <label>发票类型</label>\r\n                <span>");
#nullable restore
#line 406 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(orderInvoice.InvoiceTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n            <li>\r\n                <label>发票抬头</label>\r\n                <span>");
#nullable restore
#line 410 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(orderInvoice.InvoiceTitle);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>\r\n");
#nullable restore
#line 412 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.InvoiceCode))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>纳税人识别号</label>\r\n                    <span>");
#nullable restore
#line 416 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.InvoiceCode);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 418 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }  

#line default
#line hidden
#nullable disable
            WriteLiteral("            <li>\r\n                <label>发票内容</label>\r\n                <span>");
#nullable restore
#line 421 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                 Write(orderInvoice.InvoiceContext);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n            </li>  \r\n");
#nullable restore
#line 423 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.RegisterAddress))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>注册地址</label>\r\n                    <span>");
#nullable restore
#line 427 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.RegisterAddress);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 429 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }   

#line default
#line hidden
#nullable disable
#nullable restore
#line 430 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.RegisterPhone))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>注册电话</label>\r\n                    <span>");
#nullable restore
#line 434 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.RegisterPhone);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 436 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 437 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.BankName))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>开户银行</label>\r\n                    <span>");
#nullable restore
#line 441 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.BankName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 443 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 444 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.BankNo))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>银行账户</label>\r\n                    <span>");
#nullable restore
#line 448 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.BankNo);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 450 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 451 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.RealName))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>收票人姓名</label>\r\n                    <span>");
#nullable restore
#line 455 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.RealName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 457 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 458 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.CellPhone))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>收票人手机</label>\r\n                    <span>");
#nullable restore
#line 462 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.CellPhone);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 464 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 465 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.Email))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>收票人邮箱</label>\r\n                    <span>");
#nullable restore
#line 469 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.Email);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 471 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 472 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.RegionFullName))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>收票人地区</label>\r\n                    <span>");
#nullable restore
#line 476 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.RegionFullName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 478 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 479 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (!string.IsNullOrWhiteSpace(orderInvoice.Address))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <li>\r\n                    <label>收票人地址</label>\r\n                    <span>");
#nullable restore
#line 483 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                     Write(orderInvoice.Address);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </li>\r\n");
#nullable restore
#line 485 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }            

#line default
#line hidden
#nullable disable
            WriteLiteral("        </ul>\r\n    </div>\r\n");
#nullable restore
#line 488 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"bottom_fixedBtn\">\r\n");
#nullable restore
#line 490 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.OrderType != Mall.Entities.OrderInfo.OrderTypes.Virtual && hasExpressStatus)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a class=\"btn btn-default\"");
            BeginWriteAttribute("href", " href=\"", 19442, "\"", 19493, 3);
#nullable restore
#line 492 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 19449, Url.Action("ExpressInfo"), 19449, 26, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 19475, "?orderId=", 19475, 9, true);
#nullable restore
#line 492 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 19484, Model.Id, 19484, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">查看物流</a>\r\n");
#nullable restore
#line 493 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 494 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitDelivery && Model.PaymentType == Mall.Entities.OrderInfo.PaymentTypes.CashOnDelivery)
            {
                if (Model.OrderType != Mall.Entities.OrderInfo.OrderTypes.FightGroup)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <a class=\"btn btn-default\"");
            BeginWriteAttribute("href", " href=\"", 19859, "\"", 19901, 3);
            WriteAttributeValue("", 19866, "javascript:cancelOrder(\'", 19866, 24, true);
#nullable restore
#line 498 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 19890, Model.Id, 19890, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 19899, "\')", 19899, 2, true);
            EndWriteAttribute();
            WriteLiteral(">取消订单</a>\r\n");
#nullable restore
#line 499 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }
            }
            else if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitPay)//待支付
            {
                if (Model.OrderType != Mall.Entities.OrderInfo.OrderTypes.FightGroup)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <a class=\"btn btn-default\"");
            BeginWriteAttribute("href", " href=\"", 20214, "\"", 20256, 3);
            WriteAttributeValue("", 20221, "javascript:cancelOrder(\'", 20221, 24, true);
#nullable restore
#line 505 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 20245, Model.Id, 20245, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 20254, "\')", 20254, 2, true);
            EndWriteAttribute();
            WriteLiteral(">取消订单</a>\r\n");
#nullable restore
#line 506 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a class=\"btn btn-danger\"");
            BeginWriteAttribute("href", " href=\"", 20328, "\"", 20367, 3);
            WriteAttributeValue("", 20335, "javascript:payOrder(\'", 20335, 21, true);
#nullable restore
#line 507 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 20356, Model.Id, 20356, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 20365, "\')", 20365, 2, true);
            EndWriteAttribute();
            WriteLiteral(">去付款</a>\r\n");
#nullable restore
#line 508 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }
            else if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitReceiving)//待收货
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a class=\"btn btn-danger\"");
            BeginWriteAttribute("href", " href=\"", 20555, "\"", 20593, 3);
            WriteAttributeValue("", 20562, "javascript:confirm(\'", 20562, 20, true);
#nullable restore
#line 511 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 20582, Model.Id, 20582, 9, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 20591, "\')", 20591, 2, true);
            EndWriteAttribute();
            WriteLiteral(">确认收货</a>\r\n");
#nullable restore
#line 512 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n");
#nullable restore
#line 515 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if ((Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitDelivery || Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitSelfPickUp) && Model.PaymentType != Mall.Entities.OrderInfo.PaymentTypes.CashOnDelivery)
            {
                if (((isCanRefundOrder && canfgrefund) || detail.RefundStats.Equals(4)))
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <a class=\"btn btn-default\" href=\"javascript:RefundApply();\">申请退款</a>\r\n");
#nullable restore
#line 520 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                }
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 522 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
             if (Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitDelivery
            || Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitReceiving
            || Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitSelfPickUp
            || Model.OrderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.Finish
            ||Model.OrderStatus==Mall.Entities.OrderInfo.OrderOperateStatus.WaitVerification)
            {//待发货、待收货、待自提、已完成、待消费(虚拟订单)
             //晒单

#line default
#line hidden
#nullable disable
            WriteLiteral("                 <a class=\"btn btn-danger\"");
            BeginWriteAttribute("href", " href=\"", 21697, "\"", 21759, 4);
            WriteAttributeValue("", 21704, "/", 21704, 1, true);
#nullable restore
#line 529 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 21705, CurrentAreaName, 21705, 18, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 21723, "/Order/OrderShare?orderids=", 21723, 27, true);
#nullable restore
#line 529 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 21750, Model.Id, 21750, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">我要晒单</a>\r\n");
#nullable restore
#line 530 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("    </div>\r\n</div>\r\n<div class=\"custom-dialog\" id=\"paymentsChooser\"></div>\r\n<div class=\"cover\" style=\"display:none;\"></div>\r\n<input type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 21931, "\"", 21964, 1);
#nullable restore
#line 535 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 21939, Model.ExpressCompanyName, 21939, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" id=\"expressCompanyName\" />\r\n<input type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 22014, "\"", 22044, 1);
#nullable restore
#line 536 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 22022, Model.ShipOrderNumber, 22022, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" id=\"shipOrderNumber\" />\r\n<input type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 22091, "\"", 22116, 1);
#nullable restore
#line 537 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
WriteAttributeValue("", 22099, hasExpressStatus, 22099, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" id=""hasExpressStatus"" />
<script>

    //显示物流信息
    /*详情页不显示物流信息
    var expressValidStatus = $('#hasExpressStatus').val();//获取当前状态
    if (expressValidStatus) {//包含快递信息的状态，即已发货后的状态
        $('[expressInfo]').removeClass('hide');
        var expressCompanyName = $('#expressCompanyName').val();
        var shipOrderNumber = $('#shipOrderNumber').val();

        $.post('/common/ExpressData/searchTop',
            { expressCompanyName: expressCompanyName, shipOrderNumber: shipOrderNumber },
            function (expressData) {
                if (expressData.success) {
                    var html = '<ul class=""goods_interflow"">';
                    $.each(expressData.data, function (i, data) {
                        $('#expressTopInfo').html('<label><p class=""address-w"">'+ data.content + '</p><p class=""time"" style=""color:#6b6c6e;font-size:11px;""> ' + data.time + '</p></label>');
                        style = ' class=""active""';
                    });
                }
                e");
            WriteLiteral(@"lse {
                    $('#expressTopInfo').html('<label class=""red"">物流参数错误</label>');
                }
            }
        );
    }
    */
    //查看地图
    function onMapClick(latitude, longitude, shopbranchAddress) {
        window.location.href = 'http://apis.map.qq.com/tools/routeplan/eword=' + shopbranchAddress + '&epointx=' + longitude + '&epointy=' + latitude + '?referer=myapp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77';
    }
    function cancelOrder(orderId) {
        $.dialog.confirm(""确定取消该订单吗？"", function () {
            var loading = showLoading();
            $.ajax({
                type: 'post',
                url: '/' + areaName + '/Order/CloseOrder',
                dataType: 'json',
                data: { orderId: orderId },
                width:""250px"",
                success: function (d) {
                    loading.close();
                    if (d.success) {
                        $.dialog.succeedTips(""取消成功！"", function () {
                            Ref");
            WriteLiteral(@"resh();
                        }, 1);
                    }
                    else {
                        $.dialog.errorTips(""取消失败！"", '', 2);
                    }
                },
                error: function () {
                    loading.close();
                }
            });
        });
    }


    function confirm(orderId) {
        $.dialog.confirm(""你确定收到货了吗？"", function () {
            var loading = showLoading();
            $.ajax({
                type: 'post',
                url: '/' + areaName + '/Order/ConfirmOrder',
                dataType: 'json',
                data: { orderId: orderId },
                width:""250px"",
                success: function (d) {
                    loading.close();
                    if (d.success) {
                        $.dialog.succeedTips(""确认成功！"", function () {
                            Refresh();
                        }, 1);
                    }
                    else {
                        $.di");
            WriteLiteral(@"alog.errorTips(""确认失败！"", '', 2);
                    }
                },
                error: function () {
                    loading.close();
                }
            });
        });


    }

    function payOrder(orderId)
    {
        var loading = showLoading();
        if(");
#nullable restore
#line 629 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
      Write(Model.OrderTotalAmount);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"==0)
        {
            loading && loading.close();
            $.dialog.confirm('您确定用积分抵扣全部金额吗？', function () {
                ajaxRequest({
                    type: 'POST',
                    url: '/' + areaName + '/Order/PayOrderByIntegral',
                    param: { orderIds: orderId },
                    dataType: 'json',
                    success: function (data) {
                        if (data.success == true) {
                            $.dialog.succeedTips('支付成功！', function () {
                                location.href = '/' + areaName + '/Member/Orders';
                            },0.5);

                        }
                    },
                    error: function (data) { $.dialog.tips('支付失败,请稍候尝试.', null, 0.5); }
                });
            });
        }
        else
        {
            loading && loading.close();
            GetPayment(orderId, window.location.href);
        }
    }
    $(document).ready(function(){
        $("".dia");
            WriteLiteral(@"log-HB"").show();
    });
    function RefundProductTip()
    {
        $.dialog.alert( ""很遗憾，该维权入口已经关闭<br/>1、交易已过退货维权受理期,您无法发起退换货<br/>2、请在帮助中心查看平台退换货流程"", '', 2000 );
    }

    $(document).on('click','.cover,.custom-dialog-header .close',function () {
        if ($('.custom-dialog').is(':visible')){
            $('.cover,.custom-dialog').fadeOut();
        }
    });

    function RefundApply(){
        if(");
#nullable restore
#line 671 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
      Write(Model.OrderEnabledRefundAmount);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <= 0){\r\n            $.dialog.tips(\'此为优惠券全额抵扣订单不支持退款\');\r\n            return false;\r\n        }\r\n        var url = \"/");
#nullable restore
#line 675 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                Write(CurrentAreaName);

#line default
#line hidden
#nullable disable
            WriteLiteral("/OrderRefund/RefundApply/?orderid=");
#nullable restore
#line 675 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Detail.cshtml"
                                                                   Write(Model.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\";\r\n        window.location.href=url;\r\n    }\r\n</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Mall.Entities.OrderInfo> Html { get; private set; }
    }
}
#pragma warning restore 1591
