#pragma checksum "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "3bb0813892b77558d9ca0ded8b56612174fa8b11"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Mobile_Templates_Default_Views_Distribution_ApplyDistributor), @"mvc.1.0.view", @"/Areas/Mobile/Templates/Default/Views/Distribution/ApplyDistributor.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 10 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.ViewFeatures;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Html;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Rendering;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Http.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Razor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework.Infrastructure;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.DTO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.CommonModel;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"3bb0813892b77558d9ca0ded8b56612174fa8b11", @"/Areas/Mobile/Templates/Default/Views/Distribution/ApplyDistributor.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"251375f151a8ed74fad18b07a59f5490bcea9ba2", @"/Areas/Mobile/Templates/Default/Views/_ViewImports.cshtml")]
    public class Areas_Mobile_Templates_Default_Views_Distribution_ApplyDistributor : Mall.Web.Framework.MobileWebViewPage<Mall.Entities.DistributorInfo>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
  
    ViewBag.FootIndex = 4;
    var weiXinShareArgs = this.WeiXinShareArgs;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<div class=\"container distribution\">\r\n    <div class=\"group mt10\">\r\n        <div class=\"group-inner clearfix\">\r\n            <div class=\"label spc\">小店logo</div>\r\n             <img class=\"shoplogo\"");
            BeginWriteAttribute("src", " src=\"", 319, "\"", 342, 1);
#nullable restore
#line 11 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
WriteAttributeValue("", 325, Model.ShopLogo, 325, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" onclick=\"UploadWXImage()\"/>\r\n            <input type=\"hidden\" name=\"ShopLogo\" id=\"ShopLogo\" data-src=\"");
#nullable restore
#line 12 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
                                                                     Write(Model.ShopLogo);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 464, "\"", 472, 0);
            EndWriteAttribute();
            WriteLiteral(" />\r\n        </div>\r\n        <div class=\"group-inner\">\r\n            <div class=\"label\">小店名称</div>\r\n            <input type=\"text\" placeholder=\"小店名称不能超过10个字符\" name=\"ShopName\" id=\"ShopName\"");
            BeginWriteAttribute("value", " value=\"", 660, "\"", 685, 1);
#nullable restore
#line 16 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
WriteAttributeValue("", 668, Model.ShopName, 668, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" maxlength=""10"" />
        </div>
    </div>
    <div class=""button-area mt10"">
        <a class=""btn btn-danger btn-any nofix"" href=""javascript:PostApplyDistributor();"">提交申请</a>
    </div>
</div>

<script type=""text/javascript"">
    function PostApplyDistributor() {
        var serverid = $(""#ShopLogo"").val(), ShopName = $(""#ShopName"").val(),ShopLogo = $(""#ShopLogo"").attr('data-src');
        if (ShopLogo.length < 1) {
            $.dialog.errorTips('请上传小店logo');
            return;
        }
        if (ShopName.length < 1) {
            $.dialog.errorTips('请填写小店名称');
            return;
        }
        if (ShopName.length > 10) {
            $.dialog.errorTips('小店名称不能超过10个字符');
            return;
        }
        var loading = showLoading();
        $.ajax({
            type: 'post',
            url: '/' + areaName + '/Distribution/PostApplyDistributor',
            data: { logoWXmediaId: serverid, shopname: ShopName },
            success: function (data) {
               ");
            WriteLiteral(@" loading.close();
                if (data.success) {
                    window.location.href = '/' + areaName + '/Distribution/MyShop';
                }
                else {
                    $.dialog({
                        title: '申请失败',
                        content: data.msg,
                        button: [
                            {
                                name: '确认', callback: function () { }
                            }
                        ]
                    });
                }
            }
        });
    }

</script>

<script src=""https://res.wx.qq.com/open/js/jweixin-1.0.0.js""></script>
<script>
        $(function () {
            var  AppId='");
#nullable restore
#line 69 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
                   Write(weiXinShareArgs.AppId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';// 必填，公众号的唯一标识\r\n            var Timestamp=");
#nullable restore
#line 70 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
                     Write(weiXinShareArgs.Timestamp);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ;// 必填，生成签名的时间戳\r\n            var NonceStr=\'");
#nullable restore
#line 71 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
                     Write(weiXinShareArgs.NonceStr);

#line default
#line hidden
#nullable disable
            WriteLiteral("\'; // 必填，生成签名的随机串\r\n            var Signature=\'");
#nullable restore
#line 72 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Distribution\ApplyDistributor.cshtml"
                      Write(weiXinShareArgs.Signature);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"';// 必填，签名，见附录1
            wx.config({
                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
                appId: AppId, // 必填，公众号的唯一标识
                timestamp: Timestamp, // 必填，生成签名的时间戳
                nonceStr: NonceStr, // 必填，生成签名的随机串
                signature: Signature,// 必填，签名，见附录1
                jsApiList: ['chooseImage', 'uploadImage'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
            });
           // alert(Signature);
        });
        function UploadWXImage()
        {
            wx.chooseImage({
                count: 1, // 默认9
                sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有
                sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有
                success: function (res) {
                    var localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片
                    function UploadOneImage(){  
                    	wx.uploadImage({
	                        loc");
            WriteLiteral(@"alId: localIds[0], // 需要上传的图片的本地ID，由chooseImage接口获得
	                        isShowProgressTips: 1, // 默认为1，显示进度提示
	                        success: function (res) {
	                            var serverId = res.serverId; // 返回图片的服务器端ID
	                            $("".shoplogo"").attr('src',localIds[0]);
	                            $(""#ShopLogo"").attr('data-src',localIds[0]);
	                            $(""#ShopLogo"").val(serverId);
	                        }
	                    });
                    }
                    UploadOneImage();
                }
            });
        }
        function Remove(obj)
        {
            $(obj).parent().remove();
        }
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Mall.Entities.DistributorInfo> Html { get; private set; }
    }
}
#pragma warning restore 1591
