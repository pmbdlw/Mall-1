#pragma checksum "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "5e240eac0f0bdedb80071a1b86b400e243607741"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Web_Views_OrderRefund_Detail), @"mvc.1.0.view", @"/Areas/Web/Views/OrderRefund/Detail.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 13 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.ViewFeatures;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Html;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Rendering;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Http.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Razor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Nop.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web.Framework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.DTO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 33 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web.Areas.SellerAdmin.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 34 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web.Areas.Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 36 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 41 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.CommonModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
using Mall.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
using Mall.Entities;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5e240eac0f0bdedb80071a1b86b400e243607741", @"/Areas/Web/Views/OrderRefund/Detail.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"090c48694750ba7c62e752bf94ad67a159f3356f", @"/Areas/Web/Views/_ViewImports.cshtml")]
    public class Areas_Web_Views_OrderRefund_Detail : Mall.Web.Framework.WebViewPage<Mall.Entities.OrderRefundInfo>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 4 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
  
    Layout = "~/Areas/Web/Views/Shared/_UserCenter.cshtml";
    ViewBag.Title = "退换货明细";
    var RefundLogs = (List<Mall.DTO.OrderRefundlog>)ViewBag.RefundLogs;
    var order = ViewBag.Order as Mall.DTO.Order;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
  
    //是否弃货
    bool isDiscard = false;
    if (Model.SellerAuditStatus == OrderRefundInfo.OrderRefundAuditStatus.Audited
        && Model.BuyerDeliverDate == null
        && Model.RefundMode != OrderRefundInfo.OrderRefundMode.OrderRefund
        && Model.IsReturn == true
        )
    {
        isDiscard = true;
    }
    //是否拒绝
    bool isUnAudit = (Model.SellerAuditStatus == OrderRefundInfo.OrderRefundAuditStatus.UnAudit);
    //是否退货
    bool isReturnGoods = (Model.RefundMode == OrderRefundInfo.OrderRefundMode.ReturnGoodsRefund);
    var who = (order.DeliveryType == Mall.CommonModel.DeliveryType.SelfTake || order.ShopBranchId > 0) ? "门店" : "商家";

    int curstep = 1;
    string curshowcls = "todo";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<style>
    .search_btn:hover { color: #6a7c86; }
    table.tb-back tbody tr:first-child, table.tb-back tbody tr:first-child span { color: #e3393c; }
</style>
<div class=""box1 lh24"">
    <div class=""title bot-border"">
        <h3 class=""title_txt cur"">退货记录详情</h3>
    </div>
    <div class=""mod lh24"">
        <div class=""smt-01"" style=""padding-bottom:10px;padding-top:10px;"">
            售后服务进度条<span class=""remind-box"">（服务单号：");
#nullable restore
#line 40 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                             Write(Model.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("）</span>\r\n");
#nullable restore
#line 41 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
             if (Model.SellerAuditStatus == Mall.Entities.OrderRefundInfo.OrderRefundAuditStatus.UnAudit
            && Model.IsOrderRefundTimeOut == false)
            {
                var orderStatus = order.OrderStatus;

                if (
                    (Model.RefundMode != Mall.Entities.OrderRefundInfo.OrderRefundMode.OrderRefund)
                    || (Model.RefundMode == Mall.Entities.OrderRefundInfo.OrderRefundMode.OrderRefund && (orderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitDelivery || orderStatus == Mall.Entities.OrderInfo.OrderOperateStatus.WaitSelfPickUp))
                    )
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <a class=\"search_btn\" style=\"margin-left:40px;\"");
            BeginWriteAttribute("href", " href=\"", 2211, "\"", 2412, 5);
            WriteAttributeValue("", 2218, "/OrderRefund/RefundApply/?orderid=", 2218, 34, true);
#nullable restore
#line 51 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 2252, Model.OrderId, 2252, 16, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2268, "&refundid=", 2268, 10, true);
#nullable restore
#line 51 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 2278, Model.Id, 2278, 11, false);

#line default
#line hidden
#nullable disable
#nullable restore
#line 51 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 2289, Html.Raw(Model.RefundMode == OrderRefundInfo.OrderRefundMode.OrderRefund ? "" : "&itemId=" + Model.OrderItemId.ToString()), 2289, 123, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">重新申请</a>\r\n");
#nullable restore
#line 52 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                }
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 55 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
             if (Model.SellerAuditStatus == Mall.Entities.OrderRefundInfo.OrderRefundAuditStatus.WaitDelivery && order.DeliveryType != Mall.CommonModel.DeliveryType.SelfTake)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a class=\"search_btn back-goods-btn\"");
            BeginWriteAttribute("datashop", " datashop=\"", 2703, "\"", 2727, 1);
#nullable restore
#line 57 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 2714, Model.ShopId, 2714, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("datasbid", " datasbid=\"", 2728, "\"", 2760, 1);
#nullable restore
#line 57 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 2739, order.ShopBranchId, 2739, 21, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("dataid", " dataid=\"", 2761, "\"", 2779, 1);
#nullable restore
#line 57 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 2770, Model.Id, 2770, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"margin-left:40px;\" href=\"javascript:;\">请寄货</a>\r\n");
#nullable restore
#line 58 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n        <div class=\"smc-01\">\r\n\r\n            <div class=\"step-list\">\r\n                <div class=\"step-u done\">\r\n                    <em>");
#nullable restore
#line 64 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    Write(curstep);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em>\r\n                    买家申请售后\r\n                    <span class=\"tail tail2\"></span>\r\n                    <span class=\"tail\"></span>\r\n                </div>\r\n");
#nullable restore
#line 69 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                  
                    curstep++;
                    curshowcls = "done";
                    if (Model.SellerAuditStatus == OrderRefundInfo.OrderRefundAuditStatus.WaitAudit)
                    {
                        curshowcls = "active";
                    }
                

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div");
            BeginWriteAttribute("class", " class=\"", 3503, "\"", 3531, 2);
            WriteAttributeValue("", 3511, "step-u", 3511, 6, true);
#nullable restore
#line 77 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue(" ", 3517, curshowcls, 3518, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <em>");
#nullable restore
#line 78 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    Write(curstep);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em>\r\n                    ");
#nullable restore
#line 79 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                Write(who);

#line default
#line hidden
#nullable disable
            WriteLiteral("审核申请\r\n                    <span class=\"tail tail2\"></span>\r\n                    <span class=\"tail\"></span>\r\n                </div>\r\n");
#nullable restore
#line 83 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                 if (isUnAudit)
                {
                    curstep++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <div class=\"step-u  done\">\r\n                        <em>");
#nullable restore
#line 87 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                        Write(curstep);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em>\r\n                        ");
#nullable restore
#line 88 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    Write(who);

#line default
#line hidden
#nullable disable
            WriteLiteral("拒绝申请\r\n                    </div>\r\n");
#nullable restore
#line 90 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 91 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                 if (Model.SellerAuditStatus == OrderRefundInfo.OrderRefundAuditStatus.Audited && isDiscard)
                {
                    curstep++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <div class=\"step-u  done\">\r\n                        <em>");
#nullable restore
#line 95 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                        Write(curstep);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em>\r\n                        ");
#nullable restore
#line 96 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    Write(who);

#line default
#line hidden
#nullable disable
            WriteLiteral("选择弃货\r\n                        <span class=\"tail tail2\"></span>\r\n                        <span class=\"tail\"></span>\r\n                    </div>\r\n");
#nullable restore
#line 100 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 101 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                 if (isReturnGoods && !isDiscard && !isUnAudit && order.DeliveryType != Mall.CommonModel.DeliveryType.SelfTake)
                {
                    curstep++;
                    curshowcls = "todo";
                    if ((int)Model.SellerAuditStatus > (int)OrderRefundInfo.OrderRefundAuditStatus.WaitDelivery && !isDiscard
                    && !isUnAudit)
                    {
                        curshowcls = "done";
                    }
                    if (curshowcls == "todo" && Model.SellerAuditStatus == OrderRefundInfo.OrderRefundAuditStatus.WaitDelivery)
                    {
                        curshowcls = "active";
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <div");
            BeginWriteAttribute("class", " class=\"", 5165, "\"", 5194, 2);
            WriteAttributeValue("", 5173, "step-u", 5173, 6, true);
#nullable restore
#line 114 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("  ", 5179, curshowcls, 5181, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                        <em>");
#nullable restore
#line 115 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                        Write(curstep);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em>\r\n                        买家回寄商品\r\n                        <span class=\"tail tail2\"></span>\r\n                        <span class=\"tail\"></span>\r\n                    </div>\r\n");
#nullable restore
#line 120 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 121 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                 if (isReturnGoods && !isDiscard && !isUnAudit)
                {
                    {
                        curstep++;
                        curshowcls = "todo";
                        if ((int)Model.SellerAuditStatus > (int)OrderRefundInfo.OrderRefundAuditStatus.WaitReceiving && !isDiscard
                        && Model.SellerAuditStatus != OrderRefundInfo.OrderRefundAuditStatus.UnAudit)
                        {
                            curshowcls = "done";
                        }
                        if (curshowcls == "todo" && Model.SellerAuditStatus == OrderRefundInfo.OrderRefundAuditStatus.WaitReceiving)
                        {
                            curshowcls = "active";
                        }
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <div");
            BeginWriteAttribute("class", " class=\"", 6247, "\"", 6275, 2);
            WriteAttributeValue("", 6255, "step-u", 6255, 6, true);
#nullable restore
#line 136 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue(" ", 6261, curshowcls, 6262, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                        <em>");
#nullable restore
#line 137 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                        Write(curstep);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em>\r\n                        ");
#nullable restore
#line 138 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    Write(who);

#line default
#line hidden
#nullable disable
            WriteLiteral("确认收货\r\n                        <span class=\"tail tail2\"></span>\r\n                        <span class=\"tail\"></span>\r\n                    </div>\r\n");
#nullable restore
#line 142 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 143 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                  
                    curstep++;
                    curshowcls = (Model.ManagerConfirmStatus == Mall.Entities.OrderRefundInfo.OrderRefundConfirmStatus.Confirmed ? "done" : "todo");
                    if (Model.SellerAuditStatus == OrderRefundInfo.OrderRefundAuditStatus.Audited && curshowcls == "todo")
                    {
                        curshowcls = "active";
                    }
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 151 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                 if (!isUnAudit)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <div");
            BeginWriteAttribute("class", " class=\"", 7033, "\"", 7062, 2);
            WriteAttributeValue("", 7041, "step-u", 7041, 6, true);
#nullable restore
#line 153 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("  ", 7047, curshowcls, 7049, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                        <em>");
#nullable restore
#line 154 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                        Write(curstep);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em>\r\n                        平台完成退款\r\n                    </div>\r\n");
#nullable restore
#line 157 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </div>
        </div>
    </div>

    <div class=""mod lh24"">
        <h3 class=""sub-title"">服务单信息</h3>
        <div class=""border-box"" style="" border-top:1px solid #e4e4e4;"">
            <table class=""tb-void tb-cols"">
                <colgroup>
                    <col style=""width:160px;"" />
                    <col />
                </colgroup>
                <tbody>
");
#nullable restore
#line 171 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                     if (!string.IsNullOrWhiteSpace(Model.VerificationCodeIds))
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr class=\"tr-td\">\r\n                            <td>核销码</td>\r\n                            <td>\r\n");
#nullable restore
#line 176 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                              

                               var codes = Model.VerificationCodeIds.Split(',');
                               for (int i = 0; i < codes.Length; i++)
                               {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                  <span>");
#nullable restore
#line 181 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                   Write(System.Text.RegularExpressions.Regex.Replace(codes[i], @"(\d{4})", "$1 "));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 182 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                   if (codes.Length > 1 && i != codes.Length - 1) {
                                       

#line default
#line hidden
#nullable disable
            WriteLiteral("，");
#nullable restore
#line 183 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                                     
                                   }
                               }
                           

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </td>\r\n                        </tr>\r\n");
#nullable restore
#line 189 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <tr class=\"tr-td\">\r\n                        <td>退款金额</td>\r\n                        <td class=\"ftx-04\">");
#nullable restore
#line 192 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                      Write(Model.Amount);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    </tr>\r\n");
#nullable restore
#line 194 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                     if (Model.IsReturn)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr class=\"tr-td\">\r\n                            <td>退货数量</td>\r\n                            <td>");
#nullable restore
#line 198 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                           Write(Model.ShowReturnQuantity);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                        </tr>\r\n");
#nullable restore
#line 200 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <tr class=\"tr-td\">\r\n                        <td>退款方式</td>\r\n                        <td>");
#nullable restore
#line 203 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                       Write(Model.RefundPayType.ToDescription());

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    </tr>\r\n                    <tr class=\"tr-td\">\r\n                        <td>退款理由</td>\r\n                        <td>");
#nullable restore
#line 207 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                       Write(Model.Reason.Replace("&nbsp;", " "));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    </tr>\r\n                    <tr class=\"tr-td\">\r\n                        <td>退款说明</td>\r\n                        <td>");
#nullable restore
#line 211 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                       Write(HttpUtility.HtmlDecode(Model.ReasonDetail));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    </tr>\r\n");
#nullable restore
#line 213 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                     if (!string.IsNullOrWhiteSpace(Model.CertPic1 + Model.CertPic2 + Model.CertPic3))
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr class=\"tr-td\">\r\n                            <td>售后凭证</td>\r\n                            <td style=\"padding:15px 20px \">\r\n                                <div class=\"after-service-img\">\r\n");
#nullable restore
#line 219 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                     if (!string.IsNullOrWhiteSpace(Model.CertPic1))
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("  <img");
            BeginWriteAttribute("src", " src=\"", 9934, "\"", 9978, 1);
#nullable restore
#line 220 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 9940, MallIO.GetImagePath(Model.CertPic1), 9940, 38, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" width=\"150\" />\r\n");
#nullable restore
#line 221 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 222 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                     if (!string.IsNullOrWhiteSpace(Model.CertPic2))
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <img");
            BeginWriteAttribute("src", " src=\"", 10204, "\"", 10248, 1);
#nullable restore
#line 224 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 10210, MallIO.GetImagePath(Model.CertPic2), 10210, 38, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" width=\"150\" />\r\n");
#nullable restore
#line 225 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 226 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                     if (!string.IsNullOrWhiteSpace(Model.CertPic3))
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <img");
            BeginWriteAttribute("src", " src=\"", 10474, "\"", 10518, 1);
#nullable restore
#line 228 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
WriteAttributeValue("", 10480, MallIO.GetImagePath(Model.CertPic3), 10480, 38, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" width=\"150\" />\r\n");
#nullable restore
#line 229 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                </div>\r\n\r\n                            </td>\r\n                        </tr>\r\n");
#nullable restore
#line 234 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                </tbody>

            </table>
        </div>
    </div>

    <div class=""refund-remark mt20"">
        <h5><b>进度说明：</b></h5>
    </div>

    <div class=""mod lh24"">
        <div class=""border-box"">
            <table class=""tb-void tb-back"">
                <colgroup>
                    <col width=""150"" />
                    <col width=""400"" />
                    <col width=""120"" />
                    <col width=""160"" />
                </colgroup>
                <thead>
                    <tr class=""tr"">
                        <th>处理时间</th>
                        <th>处理信息</th>
                    </tr>
                </thead>
                <tbody>
");
#nullable restore
#line 261 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                     foreach (var item in RefundLogs)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr class=\"tr-td\">\r\n                            <td>");
#nullable restore
#line 264 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                           Write(item.OperateDate.ToString("yyyy-MM-dd HH:mm:ss"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 265 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                           Write(item.OperateContent);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                        </tr>\r\n");
#nullable restore
#line 267 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\OrderRefund\Detail.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                </tbody>\r\n\r\n\r\n\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div class=\"cover\"></div>\r\n    <div class=\"preview-img\"><img");
            BeginWriteAttribute("src", " src=\"", 11884, "\"", 11890, 0);
            EndWriteAttribute();
            WriteLiteral(@" /></div>
</div>
<script>
    $(function () {
        $("".after-service-img img"").click(function () {
            $("".preview-img"").show();
            $("".preview-img img"").attr(""src"", $(this).attr(""src""));
            $("".cover"").show();
        });
        $("".preview-img"").click(function () {
            $(this).hide()
            $("".cover"").hide();
        });
        $("".cover"").click(function () {
            $("".preview-img"").hide();
            $("".cover"").hide();
        })
    });
</script>

<script type=""text/javascript"">
    var curentId;
    $(function () {
        $('.back-goods-btn').click(function () {
            var shopId = $(this).attr(""dataShop"");
            sbid = $(this).attr(""datasbid"");
            curentId = $(this).attr(""dataId"");
            $.dialog({
                title: '请退货',
                lock: true,
                id: 'BackForm',
                content: $('#backform')[0],
                init: function () {
                    $.ajax(");
            WriteLiteral(@"{
                        type: 'get',
                        async: false,
                        url: ""/OrderRefund/GetShopGetAddress?shopId="" + shopId + ""&shopBranchId="" + sbid,
                        dataType: 'json',
                        data: {},
                        success: function (d) {
                            if (d && d.Phone.length > 0) {
                                var str = ""<p>"" + d.ShipperName + ""&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"" + d.Phone + ""</p>"";
                                str += ""<p>"" + d.Region + ""  "" + d.Address + ""</p>"";
                                $(""#shopsendaddress"").html(str);
                            } else {
                                $(""#shopsendaddress"").text(""商家未设置收货地址，请与商家主动联系！"");
                            }
                        }
                    });
                },
                padding: '20px 30px 20px 0',
                okVal: '确认已退货',
                ok: function () {
                    UpdateRefund(");
            WriteLiteral(@");
                }
            });
        });

    });

    function UpdateRefund() {
        var expressCompanyName = $(""#ExpressCompanyName"").val();
        var shipOrderNumber = $(""#ShipOrderNumber"").val();
        if (expressCompanyName == """" || shipOrderNumber == """") {
            $.dialog.errorTips(""请输入快递公司和快递单号！"", '', 1);
            return;
        }
        var loading = showLoading();
        $.ajax({
            type: 'post',
            async: false,
            url: ""/OrderRefund/UpdateRefund"",
            dataType: 'json',
            data: { id: curentId, expressCompanyName: expressCompanyName, shipOrderNumber: shipOrderNumber },
            success: function (d) {
                if (d.success) {
                    $.dialog.succeedTips(""提交成功！"", function () {
                        window.location.reload();
                    }, 1);
                }
                else {
                    loading.close();
                    $.dialog.errorTips(""提交失败,"" + d.");
            WriteLiteral("msg, \'\', 2);\r\n                }\r\n            }\r\n        });\r\n    }\r\n</script>\r\n\r\n<div id=\"backform\" style=\"display: none;\">\r\n    <div class=\"form\">\r\n        <div class=\"form\">\r\n");
            WriteLiteral(@"
            <div class=""item"" id=""shopsendbox"">
                <span class=""label"">商家退货地址：</span>
                <div class=""fl"" id=""shopsendaddress"">
                </div>
                <div class=""clr""></div>
            </div>
            <div class=""item"">
                <span class=""label"">快递公司：</span>
                <div class=""fl"">
                    <input type=""text"" id=""ExpressCompanyName"" name=""ExpressCompanyName"" class=""text""");
            BeginWriteAttribute("value", " value=\"", 16267, "\"", 16275, 0);
            EndWriteAttribute();
            WriteLiteral(@" />
                    <span class=""error-msg hide"">请您填写快递公司</span>
                </div>
                <div class=""clr""></div>
            </div>
            <div class=""item"">
                <span class=""label"">快递单号：</span>
                <div class=""fl"">
                    <input type=""text"" class=""text"" id=""ShipOrderNumber"" name=""ShipOrderNumber""");
            BeginWriteAttribute("value", " value=\"", 16643, "\"", 16651, 0);
            EndWriteAttribute();
            WriteLiteral(@" />
                    <span class=""error-msg hide"">请您填写快递单号</span>
                </div>
                <div class=""clr""></div>
            </div>
        </div>

    </div>



    <div class=""thickdiv hide""></div>
    <div class=""thickbox hide"">
        <div class=""thickwrap"">
            <div class=""thicktitle"">
                <span>请退货</span>
            </div>
            <div style=""width: 400px; padding-left: 10px; padding-right: 10px;"" class=""thickcon"">
                <div");
            BeginWriteAttribute("id", " id=\"", 17160, "\"", 17165, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                    <div id=""edit-cont"">
                        <div class=""mc"">


                            <div class=""btns"">
                                <a id=""id_add_order"" class=""e-btn btn-9 save-btn"" onclick=""UpdateRefund()"">确认已退货</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a");
            BeginWriteAttribute("id", " id=\"", 17589, "\"", 17594, 0);
            EndWriteAttribute();
            WriteLiteral(" class=\"thickclose\" href=\"javascript:void(0);\">×</a>\r\n    </div>\r\n</div>\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Mall.Entities.OrderRefundInfo> Html { get; private set; }
    }
}
#pragma warning restore 1591
