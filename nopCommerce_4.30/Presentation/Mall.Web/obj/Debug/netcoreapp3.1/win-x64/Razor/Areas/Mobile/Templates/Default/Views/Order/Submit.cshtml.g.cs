#pragma checksum "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c0cf39161e37a58fbfa1d5051b1d7fd8e2c97934"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Mobile_Templates_Default_Views_Order_Submit), @"mvc.1.0.view", @"/Areas/Mobile/Templates/Default/Views/Order/Submit.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 10 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.ViewFeatures;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Html;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Rendering;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Http.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Razor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Web.Framework.Infrastructure;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.DTO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\_ViewImports.cshtml"
using Mall.CommonModel;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c0cf39161e37a58fbfa1d5051b1d7fd8e2c97934", @"/Areas/Mobile/Templates/Default/Views/Order/Submit.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"251375f151a8ed74fad18b07a59f5490bcea9ba2", @"/Areas/Mobile/Templates/Default/Views/_ViewImports.cshtml")]
    public class Areas_Mobile_Templates_Default_Views_Order_Submit : Mall.Web.Framework.MobileWebViewPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Content/mui.min.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Content/mui.picker.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Content/mui.poppicker.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Scripts/mui.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Scripts/mui.picker.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Scripts/mui.poppicker.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_8 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Mobile/Templates/Default/Scripts/submitOrder.js?v=20183030"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
  
    ViewBag.Title = "订单提交";
    var model = (Mall.DTO.MobileOrderDetailConfirmModel)ViewBag.ConfirmModel;
    var products = model.products;
    //var products = (IEnumerable<Mall.DTO.MobileShopCartItemModel>)ViewBag.ConfirmModel.products;
    var canIntegralPerMoney = (bool?)ViewBag.CanIntegralPerMoney;
    var canCapital = (bool)ViewBag.CanCapital;
    var productType = Mall.Core.Helper.TypeHelper.ObjectToInt(ViewBag.productType);
    var shipperAddress = (string)ViewBag.ShipperAddress;
    var shipperTelPhone = (string)ViewBag.ShipperTelPhone;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<input id=\"icod\" type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 601, "\"", 645, 1);
#nullable restore
#line 13 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 609, ViewBag.IsCashOnDelivery.ToString(), 609, 36, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input id=\"total\" type=\"hidden\"");
            BeginWriteAttribute("value", " value=\"", 682, "\"", 723, 1);
#nullable restore
#line 14 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 690, ViewBag.ConfirmModel.orderAmount, 690, 33, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "c0cf39161e37a58fbfa1d5051b1d7fd8e2c9793411744", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "c0cf39161e37a58fbfa1d5051b1d7fd8e2c9793412942", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "c0cf39161e37a58fbfa1d5051b1d7fd8e2c9793414140", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n<div class=\"container submit-cart\">\r\n");
#nullable restore
#line 19 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
      
        var defaultAddress = ViewBag.address as Mall.Entities.ShippingAddressInfo;
    

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
     if (productType == 0)
    {
        if (defaultAddress != null)
        {
            var addDetail = defaultAddress.AddressDetail ?? "";

#line default
#line hidden
#nullable disable
            WriteLiteral("            <a");
            BeginWriteAttribute("href", " href=\"", 1345, "\"", 1498, 3);
#nullable restore
#line 27 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 1352, Url.Action("ChooseShippingAddress", "Order", new { area = "mobile" }), 1352, 70, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1422, "?isOrder=1&returnUrl=", 1422, 21, true);
#nullable restore
#line 27 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 1443, HttpUtility.UrlEncode(Context.Request.GetDisplayUrl()), 1443, 55, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"street-well\" id=\"choiceAddr\">\r\n                <p id=\"selectedAddress\">");
#nullable restore
#line 28 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                   Write(defaultAddress.ShipTo);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <i class=\"glyphicon glyphicon-menu-right\"></i><span>");
#nullable restore
#line 28 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                              Write(defaultAddress.Phone);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></p>\r\n                <p class=\"address\">");
#nullable restore
#line 29 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                              Write(defaultAddress.RegionFullName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" &nbsp;");
#nullable restore
#line 29 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                   Write(defaultAddress.Address);

#line default
#line hidden
#nullable disable
            WriteLiteral("&nbsp;");
#nullable restore
#line 29 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                Write(defaultAddress.AddressDetail);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                <i class=\"icon\"></i>\r\n            </a>\r\n");
#nullable restore
#line 32 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
        }
        else
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <a class=\"street-well\" id=\"choiceAddr\"");
            BeginWriteAttribute("href", " href=\"", 1965, "\"", 2118, 3);
#nullable restore
#line 35 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 1972, Url.Action("ChooseShippingAddress", "Order", new { area = "mobile" }), 1972, 70, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2042, "?isOrder=1&returnUrl=", 2042, 21, true);
#nullable restore
#line 35 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 2063, HttpUtility.UrlEncode(Context.Request.GetDisplayUrl()), 2063, 55, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                <p>您还没有填写或更新收货地址<spa style=\"color:red\">重新选择</spa></p>\r\n            </a>\r\n");
#nullable restore
#line 38 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
        }
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 41 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
      
        var zyShop = products.Where(p => p.shopId == 1).FirstOrDefault();
        var otherShops = products.Where(p => p.shopId != 1).ToList();
    

#line default
#line hidden
#nullable disable
#nullable restore
#line 45 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
     if (ViewBag.IsCashOnDelivery && zyShop != null && zyShop.CartItemModels.Count > 0)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div id=\"payment_m\" class=\"payment_m\">\r\n            <span>支付方式</span>\r\n            <i class=\"glyphicon glyphicon-menu-right\"></i>\r\n            <span class=\"payment-c\"><a href=\"javascript:void(0)\">在线支付 </a></span>\r\n        </div>\r\n");
#nullable restore
#line 52 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
    }
    else
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div id=\"payment_m\">\r\n            <span>支付方式</span>\r\n            <span class=\"payment-c\"><a href=\"javascript:void(0)\">在线支付</a></span>\r\n        </div>\r\n");
#nullable restore
#line 59 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 60 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
     if (productType == 1 && !string.IsNullOrWhiteSpace(shipperAddress) && !string.IsNullOrWhiteSpace(shipperTelPhone))
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"goods-info mb10\">\r\n            <div class=\"item\">\r\n                <div class=\"detail-anchor\">联系电话<span class=\"pull-right\">");
#nullable restore
#line 64 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                   Write(shipperTelPhone);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</span></div>
            </div>
            <div class=""item"">
                <div class=""detail-anchor"" style=""height: auto;padding: 10px 0;line-height: 22px;display: flex;justify-content: space-between;"">
                	<span style=""flex-shrink: 0"">核销地址</span>
                	<span style=""flex-shrink: 1;width:100%;text-align:right;margin: 0 10px;"">");
#nullable restore
#line 69 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                        Write(shipperAddress);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n");
#nullable restore
#line 73 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 75 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
     foreach (var shop in products)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"goods-info mb10\"");
            BeginWriteAttribute("id", " id=\"", 3738, "\"", 3755, 1);
#nullable restore
#line 77 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 3743, shop.shopId, 3743, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("shopid", " shopid=\"", 3756, "\"", 3777, 1);
#nullable restore
#line 77 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 3765, shop.shopId, 3765, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n");
#nullable restore
#line 78 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
             if (shop.VshopId != 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"item\">\r\n                    <a");
            BeginWriteAttribute("href", " href=\"", 3891, "\"", 3945, 4);
            WriteAttributeValue("", 3898, "/", 3898, 1, true);
#nullable restore
#line 81 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 3899, ViewBag.AreaName, 3899, 19, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 3918, "/vshop/detail/", 3918, 14, true);
#nullable restore
#line 81 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 3932, shop.VshopId, 3932, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                        <div class=\"goods-shop\">\r\n                            ");
#nullable restore
#line 83 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                       Write(shop.ShopName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                            <i class=\"glyphicon glyphicon-menu-right\"></i>\r\n                        </div>\r\n                    </a>\r\n                </div>\r\n");
#nullable restore
#line 88 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <a>\r\n\r\n                    <div class=\"item\">\r\n                        <div class=\"goods-shop\">\r\n                            ");
#nullable restore
#line 95 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                       Write(shop.ShopName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n");
#nullable restore
#line 99 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 101 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
             foreach (var product in shop.CartItemModels)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"item\"");
            BeginWriteAttribute("pid", " pid=\"", 4612, "\"", 4629, 1);
#nullable restore
#line 103 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 4618, product.id, 4618, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("skuid", " skuid=\"", 4630, "\"", 4652, 1);
#nullable restore
#line 103 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 4638, product.skuId, 4638, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("count", " count=\"", 4653, "\"", 4675, 1);
#nullable restore
#line 103 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 4661, product.count, 4661, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("price", " price=\"", 4676, "\"", 4698, 1);
#nullable restore
#line 103 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 4684, product.price, 4684, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <div class=\"buy-goods\">\r\n                        <img");
            BeginWriteAttribute("src", " src=\"", 4775, "\"", 4796, 1);
#nullable restore
#line 105 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 4781, product.imgUrl, 4781, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                        <h6><span><a");
            BeginWriteAttribute("href", " href=\"", 4838, "\"", 4892, 4);
            WriteAttributeValue("", 4845, "/", 4845, 1, true);
#nullable restore
#line 106 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 4846, ViewBag.AreaName, 4846, 19, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4865, "/product/detail/", 4865, 16, true);
#nullable restore
#line 106 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 4881, product.id, 4881, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 106 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                       Write(product.name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a></span><em>¥ ");
#nullable restore
#line 106 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                     Write(product.price);

#line default
#line hidden
#nullable disable
            WriteLiteral("</em></h6>\r\n                        <h5 class=\"clearfix\">\r\n                            <p class=\"gray\">\r\n");
#nullable restore
#line 109 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                 if (!string.IsNullOrEmpty(product.size))
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <label>");
#nullable restore
#line 111 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                      Write(product.SizeAlias);

#line default
#line hidden
#nullable disable
            WriteLiteral("：");
#nullable restore
#line 111 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                          Write(new HtmlString(product.size));

#line default
#line hidden
#nullable disable
            WriteLiteral(" &nbsp;&nbsp;</label>\r\n");
#nullable restore
#line 112 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 113 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                 if (!string.IsNullOrEmpty(product.color))
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <label>");
#nullable restore
#line 115 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                      Write(product.ColorAlias);

#line default
#line hidden
#nullable disable
            WriteLiteral("：");
#nullable restore
#line 115 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                           Write(new HtmlString(product.color));

#line default
#line hidden
#nullable disable
            WriteLiteral(" &nbsp;&nbsp;</label>\r\n");
#nullable restore
#line 116 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 117 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                 if (!string.IsNullOrEmpty(product.version))
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <label>");
#nullable restore
#line 119 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                      Write(product.VersionAlias);

#line default
#line hidden
#nullable disable
            WriteLiteral("：");
#nullable restore
#line 119 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                             Write(new HtmlString(product.version));

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n");
#nullable restore
#line 120 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </p>\r\n                            <p class=\"gray text-right\">x ");
#nullable restore
#line 122 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                    Write(product.count);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                        </h5>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 126 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
             if (productType == 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"item\">\r\n                    <div class=\"detail-anchor divider\">\r\n                        <span>配送方式</span>\r\n");
#nullable restore
#line 132 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                          
                            var pids = string.Join(",", shop.CartItemModels.Select(p => p.id));
                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 135 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                         if (ViewBag.IsOpenStore == true && !shop.IsOpenLadder)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <label class=\"divider-btn\"><input class=\"selftake\" type=\"radio\"");
            BeginWriteAttribute("name", " name=\"", 6572, "\"", 6610, 3);
            WriteAttributeValue("", 6579, "shop", 6579, 4, true);
#nullable restore
#line 137 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 6583, shop.shopId, 6583, 14, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 6597, ".DeliveryType", 6597, 13, true);
            EndWriteAttribute();
            WriteLiteral(" value=\"1\"");
            BeginWriteAttribute("sid", " sid=\"", 6621, "\"", 6639, 1);
#nullable restore
#line 137 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 6627, shop.shopId, 6627, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("pids", " pids=\"", 6640, "\"", 6652, 1);
#nullable restore
#line 137 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 6647, pids, 6647, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" ");
#nullable restore
#line 137 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                                         Write(shop.ExistShopBranch ? "" : "disabled");

#line default
#line hidden
#nullable disable
            WriteLiteral(" /><span>到店自提</span></label>\r\n");
#nullable restore
#line 138 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <label class=\"divider-btn\"><input class=\"express\" type=\"radio\"");
            BeginWriteAttribute("name", " name=\"", 6838, "\"", 6876, 3);
            WriteAttributeValue("", 6845, "shop", 6845, 4, true);
#nullable restore
#line 139 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 6849, shop.shopId, 6849, 14, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 6863, ".DeliveryType", 6863, 13, true);
            EndWriteAttribute();
            WriteLiteral(" value=\"0\" checked /><span>快递配送</span></label>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 142 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                            var attr = new RouteValueDictionary();
                            attr.Add("shopId", shop.shopId);

                            for (int i = 0; i < shop.CartItemModels.Count; i++)
                            {
                                var item = shop.CartItemModels[i];
                                attr.Add(string.Format("skuIds[{0}]", i), item.skuId);
                                attr.Add(string.Format("counts[{0}]", i), item.count);
                            }
                            var choseshopbranchUrl_bak = Url.Action("ShopBranchs", attr);
                            if (defaultAddress != null)
                            {
                                attr.Add("regionId", defaultAddress.RegionId);
                                attr.Add("shippingAddressId", defaultAddress.Id);
                                attr.Add("latAndLng", defaultAddress.Latitude + "," + defaultAddress.Longitude);
                            }
                            var choseshopbranchUrl = Url.Action("ShopBranchs", attr);


#line default
#line hidden
#nullable disable
            WriteLiteral("                            <a class=\"item hide choseshopbranch\"");
            BeginWriteAttribute("href", " href=\"", 8136, "\"", 8162, 1);
#nullable restore
#line 160 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 8143, choseshopbranchUrl, 8143, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                                <div class=""detail-anchor divider"">
                                    <label>选择自提门店</label>
                                    <i class=""glyphicon glyphicon-menu-right"" style=""float:right;line-height:43px""></i>
                                    <label class=""content fr""></label>
                                </div>
                            </a>
");
#nullable restore
#line 167 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 168 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
             if (shop.BaseCoupons != null && shop.BaseCoupons.Count() > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                <div class=""item choseCoupon"">
                    <div class=""detail-anchor divider"">
                        <label class=""ml0"">选择优惠券</label>
                        <i class=""glyphicon glyphicon-menu-right"" style=""float:right;line-height:43px""></i>
                        <label class=""content fr"">");
#nullable restore
#line 174 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                              Write(shop.OneCoupons == null ? "不使用优惠券" : " - ¥" + shop.OneCoupons.BasePrice);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</label>
                    </div>
                    <div class='dialog dialogCoupon'>
                        <div class='dialog-title'>
                            <div class='text'>选择优惠券</div>
                            <i class='dialog-close'></i>
                        </div>
                        <div class='dialog-content'>
                            <ul class='coupon-chooselist'>
                                <li class='coupon-item' onclick=""onChooseCoupon(0,99, this)"">
                                    <input type=""radio"" name=""coupon"" ");
#nullable restore
#line 184 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                  Write(shop.OneCoupons == null ? "checked" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" />\r\n                                    <p>不使用优惠券</p>\r\n                                </li>\r\n");
#nullable restore
#line 187 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                 foreach (var coupon in shop.BaseCoupons)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <li class=\'coupon-item\'");
            BeginWriteAttribute("onclick", " onclick=\"", 9959, "\"", 10031, 6);
            WriteAttributeValue("", 9969, "onChooseCoupon(", 9969, 15, true);
#nullable restore
#line 189 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 9984, coupon.BaseId, 9984, 16, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 10000, ",", 10000, 1, true);
#nullable restore
#line 189 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 10001, (int)coupon.BaseType, 10001, 23, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 10024, ",", 10024, 1, true);
            WriteAttributeValue(" ", 10025, "this)", 10026, 6, true);
            EndWriteAttribute();
            WriteLiteral(">\r\n                                        <input type=\"radio\" name=\"coupon\" ");
#nullable restore
#line 190 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                      Write((shop.OneCoupons != null && shop.OneCoupons.BaseId == coupon.BaseId) ? "checked" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" />\r\n                                        <div class=\'detail\'>\r\n                                            <p class=\'couponprice\'>￥ ");
#nullable restore
#line 192 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                 Write(coupon.BasePrice);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                                            <p class=\'rule\'>满");
#nullable restore
#line 193 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                         Write(coupon.OrderAmount);

#line default
#line hidden
#nullable disable
            WriteLiteral("元可用（不含运费）</p>\r\n                                        </div>\r\n                                        <div class=\'desc\'>\r\n                                            <p>");
#nullable restore
#line 196 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                           Write(coupon.UseArea == 0 ? "全场通用" : coupon.Remark);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                                            <p>");
#nullable restore
#line 197 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                           Write(coupon.StartDateStr);

#line default
#line hidden
#nullable disable
            WriteLiteral("-");
#nullable restore
#line 197 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                  Write(coupon.EndDateStr);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                                        </div>\r\n                                    </li>\r\n");
#nullable restore
#line 200 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </ul>\r\n");
#nullable restore
#line 202 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                             if (shop.OneCoupons != null)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <input type=\"hidden\" data-type=\"");
#nullable restore
#line 204 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                            Write((int)shop.OneCoupons.BaseType);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" name=\"couponIds\"");
            BeginWriteAttribute("value", " value=\"", 11124, "\"", 11155, 1);
#nullable restore
#line 204 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 11132, shop.OneCoupons.BaseId, 11132, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n");
#nullable restore
#line 205 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <input type=\"hidden\" data-type=\"99\" name=\"couponIds\" value=\"0\" />\r\n");
#nullable restore
#line 209 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </div>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 213 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 215 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
             if (shop.FullDiscount > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"item\">\r\n                    <div class=\"detail-anchor\">满减优惠<span class=\"pull-right\">- ¥ ");
#nullable restore
#line 218 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                           Write(shop.FullDiscount);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></div>\r\n                </div>\r\n");
#nullable restore
#line 220 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 221 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
             if (productType == 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"item\">\r\n                    <div class=\"detail-anchor\">运费<span class=\"pull-right showfreight\">");
#nullable restore
#line 224 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                  Write(shop.Freight > 0 ? (shop.Freight.ToString("f2") + "元") : "免运费");

#line default
#line hidden
#nullable disable
            WriteLiteral(" </span></div>\r\n                </div>\r\n");
            WriteLiteral("                <div");
            BeginWriteAttribute("class", " class=\"", 12032, "\"", 12089, 3);
            WriteAttributeValue("", 12040, "item", 12040, 4, true);
            WriteAttributeValue(" ", 12044, "bill", 12045, 5, true);
#nullable restore
#line 227 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue(" ", 12049, shop.IsInvoice == true ? "" : "hide", 12050, 39, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                    <div class=""detail-anchor"">
                        发票信息
                        <i class=""glyphicon glyphicon-menu-right""></i>
                        <span class=""bill-detail"">
                            <a href=""javascript:void(0)""");
            BeginWriteAttribute("class", " class=\"", 12352, "\"", 12384, 2);
            WriteAttributeValue("", 12360, "bill-title", 12360, 10, true);
#nullable restore
#line 232 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 12370, shop.shopId, 12370, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">不需要发票</a>\r\n                            <input type=\"hidden\" id=\"invoicecode\" />\r\n                        </span>\r\n                    </div>                    \r\n                </div>\r\n");
            WriteLiteral("                <div class=\"bill-Cart\"");
            BeginWriteAttribute("name", " name=\"", 12628, "\"", 12659, 2);
            WriteAttributeValue("", 12635, "divInvoice", 12635, 10, true);
#nullable restore
#line 238 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 12645, shop.shopId, 12645, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <div class=\"bill-C00\">\r\n                        <div class=\"form invoice\" id=\"dvInvoice\"");
            BeginWriteAttribute("name", " name=\"", 12771, "\"", 12803, 2);
            WriteAttributeValue("", 12778, "formInvoice", 12778, 11, true);
#nullable restore
#line 240 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 12789, shop.shopId, 12789, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                            <div class=\'single-info pb0\'>\r\n                                <h3 class=\'title\'>发票类型 <a class=\"noInvoice\" style=\"float:right;font-size:12px;color:blue;font-weight:500;\" data-shopid=\"");
#nullable restore
#line 242 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                   Write(shop.shopId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">不需要发票</a></h3>\r\n                                <div class=\'btns dvInvoiceType\'>\r\n                                    <span data-id=\"0\" data-rate=\"0\" data-shopid=\"");
#nullable restore
#line 244 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                            Write(shop.shopId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" style=\"display:none;\">不需要发票</span>\r\n");
#nullable restore
#line 245 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                     if (shop.invoiceTpyes != null)
                                    {
                                        var index = 0;
                                        foreach (var it in shop.invoiceTpyes)
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <span");
            BeginWriteAttribute("class", " class=\"", 13580, "\"", 13611, 1);
#nullable restore
#line 250 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 13588, index==0?"active":"", 13588, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-id=\"");
#nullable restore
#line 250 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                      Write(it.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-rate=\"");
#nullable restore
#line 250 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                         Write(it.Rate);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-shopid=\"");
#nullable restore
#line 250 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                Write(shop.shopId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 250 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                              Write(it.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 251 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                            index++;
                                        }
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                </div>\r\n                                <div class=\"invoice-vat-title invoiceDay\" style=\"display:none;\">\r\n                                    发票将在订单完成之后");
#nullable restore
#line 256 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                          Write(shop.InvoiceDay);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"个工作日后寄出
                                </div>
                            </div>
                            <div class='single-info dvInvoiceTitle pb0'>
                                <h3 class='title'>发票抬头</h3>
                                <div class='btns dvInvoiceRise'>
                                    <span");
            BeginWriteAttribute("class", " class=\"", 14360, "\"", 14458, 1);
#nullable restore
#line 262 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 14368, (string.IsNullOrEmpty(model.invoiceName) || model.invoiceName.Equals("个人"))?"active":"", 14368, 90, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-id=\"0\">个人</span>\r\n                                    <span");
            BeginWriteAttribute("class", " class=\"", 14524, "\"", 14624, 1);
#nullable restore
#line 263 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 14532, (!string.IsNullOrEmpty(model.invoiceName) && !model.invoiceName.Equals("个人"))?"active":"", 14532, 92, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-id=\"1\">公司</span>\r\n                                </div>\r\n                                <div class=\"dvInvoincCompany\"");
            BeginWriteAttribute("style", " style=\"", 14750, "\"", 14857, 1);
#nullable restore
#line 265 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 14758, (!string.IsNullOrEmpty(model.invoiceName) && !model.invoiceName.Equals("个人"))?"":"display:none;", 14758, 99, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                    <div class=\"company\">\r\n                                        <input type=\"text\" name=\"invoicename\" placeholder=\"请输入公司名称\"");
            BeginWriteAttribute("value", " value=\"", 15019, "\"", 15047, 1);
#nullable restore
#line 267 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 15027, model.invoiceName, 15027, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                                        <ul class=\"companylist\">\r\n");
#nullable restore
#line 269 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                             foreach (var i in model.InvoiceTitle)
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <li><a style=\"display: list-item;\" data-code=\"");
#nullable restore
#line 271 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                         Write(i.Code);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 271 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                  Write(i.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a><i class=\"iconfonts icon-icon__trash del-title\" data-id=\"");
#nullable restore
#line 271 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                                      Write(i.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"></i></li>\r\n");
#nullable restore
#line 272 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </ul>\r\n                                    </div>\r\n                                    <input type=\"text\" name=\"invoicecode\" placeholder=\"请输入公司纳税人识别号, 必填\"");
            BeginWriteAttribute("value", " value=\"", 15680, "\"", 15708, 1);
#nullable restore
#line 275 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 15688, model.invoiceCode, 15688, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" /> 
                                </div>                      
                            </div>
                            <div class='single-info pb0'>
                                <h3 class='title'>发票内容</h3>
                                <div class='btns dvInvoiceContext'>
");
#nullable restore
#line 281 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                       var inde = 0;

#line default
#line hidden
#nullable disable
#nullable restore
#line 282 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                     foreach (var item in model.InvoiceContext)
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <span");
            BeginWriteAttribute("class", " class=\"", 16222, "\"", 16267, 2);
            WriteAttributeValue("", 16230, "invoicecontext", 16230, 14, true);
#nullable restore
#line 284 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue(" ", 16244, inde==0?"active":"", 16245, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 284 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                       Write(item.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 285 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                        inde++;
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                </div>
                            </div>
                            <div class=""single-info edit-con pb0 elInvoice"" style=""display:none;"">
                            	<h3 class='title'>收票人信息</h3>
                                <div class=""line"">
                                    <label>收票人手机</label>
                                    <input type=""text"" name=""cellphone"" placeholder=""请输入手机号码, 必填""");
            BeginWriteAttribute("value", " value=\"", 16818, "\"", 16844, 1);
#nullable restore
#line 293 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 16826, model.cellPhone, 16826, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                                </div>\r\n                                <div class=\"line\">\r\n                                    <label>收票人邮箱</label>\r\n                                    <input type=\"text\" name=\"email\" placeholder=\"收票人邮箱, 必填\"");
            BeginWriteAttribute("value", " value=\"", 17091, "\"", 17113, 1);
#nullable restore
#line 297 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 17099, model.email, 17099, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                                </div>\r\n                            </div>\r\n");
#nullable restore
#line 300 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                             if (model.vatInvoice != null)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                             <div class=""vatInvoice"" style=""display:none;"">
                                <div class='single-info pb0 edit-con'>
                                    <h3 class='title'>增票资质</h3>
                                    <div class=""line"">
                                        <label>单位名称</label>
                                        <input type=""text"" name=""companyname"" placeholder=""请填写单位名称, 必填""");
            BeginWriteAttribute("value", " value=\"", 17720, "\"", 17752, 1);
#nullable restore
#line 307 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 17728, model.vatInvoice.Name, 17728, 24, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>纳税人识别号</label>
                                        <input type=""text"" name=""companyno"" placeholder=""请填写纳税人识别号, 必填""");
            BeginWriteAttribute("value", " value=\"", 18024, "\"", 18056, 1);
#nullable restore
#line 311 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 18032, model.vatInvoice.Code, 18032, 24, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>注册地址</label>
                                        <input type=""text"" name=""registeraddress"" placeholder=""请填写公司注册地址, 必填""");
            BeginWriteAttribute("value", " value=\"", 18332, "\"", 18375, 1);
#nullable restore
#line 315 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 18340, model.vatInvoice.RegisterAddress, 18340, 35, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>注册电话</label>
                                        <input type=""text"" name=""registerphone"" placeholder=""请填写公司注册电话, 必填""");
            BeginWriteAttribute("value", " value=\"", 18649, "\"", 18690, 1);
#nullable restore
#line 319 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 18657, model.vatInvoice.RegisterPhone, 18657, 33, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>开户银行</label>
                                        <input type=""text"" name=""bankname"" placeholder=""请填写公司开户银行, 必填""");
            BeginWriteAttribute("value", " value=\"", 18959, "\"", 18995, 1);
#nullable restore
#line 323 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 18967, model.vatInvoice.BankName, 18967, 28, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>银行账户</label>
                                        <input type=""text"" name=""bankno"" placeholder=""请填写开户银行账号, 必填""");
            BeginWriteAttribute("value", " value=\"", 19262, "\"", 19296, 1);
#nullable restore
#line 327 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 19270, model.vatInvoice.BankNo, 19270, 26, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                </div>
                                <div class='single-info pb0 edit-con'>
                                    <h3 class='title'>收票人信息</h3>
                                    <div class=""line"">
                                        <label>收票人姓名</label>
                                        <input type=""text"" name=""vatrealname"" placeholder=""请填写真实姓名, 必填""");
            BeginWriteAttribute("value", " value=\"", 19745, "\"", 19781, 1);
#nullable restore
#line 334 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 19753, model.vatInvoice.RealName, 19753, 28, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>收票人手机</label>
                                        <input type=""text"" name=""vatcellphone"" placeholder=""请输入手机号码, 必填""");
            BeginWriteAttribute("value", " value=\"", 20053, "\"", 20090, 1);
#nullable restore
#line 338 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 20061, model.vatInvoice.CellPhone, 20061, 29, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>收票人地区</label>
                                        <input type=""text"" name=""showCity"" readonly=""readonly"" placeholder=""省/市/区(县)""");
            BeginWriteAttribute("value", " value=\"", 20375, "\"", 20417, 1);
#nullable restore
#line 342 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 20383, model.vatInvoice.RegionFullName, 20383, 34, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                                        <input type=\"hidden\" name=\"RegionID\"");
            BeginWriteAttribute("value", " value=\"", 20499, "\"", 20535, 1);
#nullable restore
#line 343 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 20507, model.vatInvoice.RegionID, 20507, 28, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                    </div>
                                    <div class=""line"">
                                        <label>详细地址</label>
                                        <input type=""text"" name=""vataddress"" placeholder=""请输入详细地址, 必填""");
            BeginWriteAttribute("value", " value=\"", 20804, "\"", 20839, 1);
#nullable restore
#line 347 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 20812, model.vatInvoice.Address, 20812, 27, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n");
#nullable restore
#line 351 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"

                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </div>\r\n");
            WriteLiteral("                        <a class=\"bill-submit clearfix\" data-shopid=\"");
#nullable restore
#line 382 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                Write(shop.shopId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n                            确定\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 387 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n            <!--留言字段添加6-12-->\r\n            <div class=\"item\">\r\n                <div class=\"leave-message divider\">\r\n                    <label>给卖家留言：</label>\r\n                    <div class=\"leave-message-inner\"><input type=\"text\" class=\"orderRemarks\"");
            BeginWriteAttribute("id", " id=\"", 23670, "\"", 23694, 2);
            WriteAttributeValue("", 23675, "remark_", 23675, 7, true);
#nullable restore
#line 393 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 23682, shop.shopId, 23682, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"选填\" /></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"item\">\r\n                <div class=\"detail-anchor total-m\">\r\n                    <a href=\"javascript:void(0)\"><span class=\"pay\">在线支付</span></a>\r\n");
#nullable restore
#line 399 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                      
                        var price = shop.ShopTotal - (shop.OneCoupons == null ? 0 : shop.OneCoupons.BasePrice);
                    

#line default
#line hidden
#nullable disable
            WriteLiteral("                    &nbsp;<span class=\"pull-right total\">微店合计<em class=\"price\" data-price=\"");
#nullable restore
#line 402 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                      Write(price);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-oldprice=\"");
#nullable restore
#line 402 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                             Write(price);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-freefreight=\"");
#nullable restore
#line 402 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                       Write(shop.FreeFreight);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-freight=\"");
#nullable restore
#line 402 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                                        Write(shop.Freight);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">￥");
#nullable restore
#line 402 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                                                         Write(price.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</em></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n");
#nullable restore
#line 406 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    <div class=""goods-info mb11"" id=""divInvoiceAmount"" style=""display:none;"">
        <div class=""item"">
            <div class=""detail-anchor"">税费<span class=""pull-right"" id=""invoiceAmount"" data-amount=""0.00"">￥0.00 </span></div>
        </div>
    </div>
");
#nullable restore
#line 412 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
     if (canIntegralPerMoney == true && ViewBag.ConfirmModel.integralPerMoney != null && ViewBag.ConfirmModel.userIntegrals > 0)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"goods-info mb11\">\r\n            <div class=\"item\">\r\n                <div class=\"detail-anchor\" style=\"overflow:hidden;\">\r\n                    <input type=\"hidden\" id=\"userIntegrals\"");
            BeginWriteAttribute("value", " value=\"", 25006, "\"", 25049, 1);
#nullable restore
#line 417 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 25014, ViewBag.ConfirmModel.userIntegrals, 25014, 35, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                    <span class=\"pull-left score\">可用积分抵扣<label><em>￥");
#nullable restore
#line 418 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                Write(ViewBag.ConfirmModel.integralPerMoney);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</em></label></span>
                    <span class=""pull-right"">
                        <label class=""custom-switch"">
                            <input type=""checkbox"" class=""hidden"" id=""userIntegralSwitch"" />
                            <div class=""switch-inner""><div class=""switch-handle""></div></div>
                        </label>
                    </span>
                </div>
            </div>
            <div class=""item"" id=""integralContainer"" style=""display:none;height:36px;line-height:36px;"">
                <div class=""detail-anchor"">
                    <span class=""pull-left score"">
                        使用积分:<input type=""number"" class=""text-center quantity-text"" style=""height:22px;margin-left:30px;border:none; text-align: left;""
                                    onkeyup=""(this.v=function(){this.value = this.value.replace(/[^\d]/g,'');}).call(this);"" name=""useintegral"" id=""useintegral""");
            BeginWriteAttribute("value", " value=\"", 26099, "\"", 26203, 1);
#nullable restore
#line 431 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 26107, Math.Ceiling(ViewBag.ConfirmModel.integralPerMoney*ViewBag.ConfirmModel.integralPerMoneyRate), 26107, 96, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-maxmoney=\"");
#nullable restore
#line 431 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                                                                                                                                                    Write(ViewBag.ConfirmModel.integralPerMoney);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-rate=\"");
#nullable restore
#line 431 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                                                                                                                                                                                                       Write(ViewBag.ConfirmModel.integralPerMoneyRate);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" />\r\n                    </span>\r\n                    <span class=\"pull-right score\"><em id=\"integralPrice\"></em></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n");
#nullable restore
#line 437 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 438 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
     if (canCapital && ViewBag.ConfirmModel.capitalAmount > 0)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"        <div class=""goods-info mb11"">
            <div class=""item"">
                <div class=""detail-anchor"" style=""overflow:hidden;"">
                    <input type=""hidden"" id=""userCapitals"" value=""0"" />
                    <span class=""pull-left score"">余额支付<label>共 ￥");
#nullable restore
#line 444 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                            Write(ViewBag.ConfirmModel.capitalAmount);

#line default
#line hidden
#nullable disable
            WriteLiteral(@" 可用<em></em></label></span>
                    <span class=""pull-right"">
                        <label class=""custom-switch"">
                            <input type=""checkbox"" class=""hidden"" id=""userCapitalSwitch"" />
                            <div class=""switch-inner""><div class=""switch-handle""></div></div>
                        </label>
                    </span>
                </div>
            </div>
            <div class=""item"" id=""capitalContainer"" style=""display:none;height:36px;line-height:36px;"">
                <div class=""detail-anchor"">
                    <span class=""pull-left score"">使用余额:<input type=""text"" class=""text-center quantity-text"" style=""height:22px;margin-left:30px;border:none; text-align: left;"" name=""capital"" id=""capital""");
            BeginWriteAttribute("value", " value=\"", 27668, "\"", 27711, 1);
#nullable restore
#line 455 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 27676, ViewBag.ConfirmModel.capitalAmount, 27676, 35, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-balance=\"");
#nullable restore
#line 455 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                                                                                                                                                                                                 Write(ViewBag.ConfirmModel.capitalAmount);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" /></span>\r\n                    <span class=\"pull-right score\"><em id=\"capitalPrice\"></em></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n");
#nullable restore
#line 460 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 461 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
     if (productType == 0)
    {
        
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"custom-dialog\" id=\"paymentsChooser\"></div>\r\n\r\n    <!--支付方式弹框页-->\r\n\r\n    <div class=\"payment-way\">\r\n");
#nullable restore
#line 470 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
         if (zyShop != null && zyShop.CartItemModels.Count > 0)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <div class=\"way-01\">\r\n                <h3>\r\n");
#nullable restore
#line 474 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                     if (productType == 0)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <span>支持在线支付和货到付款</span>\r\n");
#nullable restore
#line 477 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <span>支持在线支付</span>\r\n");
#nullable restore
#line 481 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("<em>共<span id=\"unpay_pro_t\">");
#nullable restore
#line 481 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                            Write(zyShop.CartItemModels.Count);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</span>件</em>
                </h3>
                <div class=""pro-mid"">
                    <div class=""pro-list"">
                        <div class=""pro-wrap"">
                            <div class=""pro-img"">
                                <ul>
");
#nullable restore
#line 488 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                     foreach (var product in zyShop.CartItemModels)
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <li><a><img");
            BeginWriteAttribute("src", " src=\"", 28968, "\"", 28989, 1);
#nullable restore
#line 490 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 28974, product.imgUrl, 28974, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></a></li>\r\n");
#nullable restore
#line 491 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"way-detail\">\r\n                        <a class=\"online active\">在线支付</a>\r\n");
#nullable restore
#line 498 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                         if ((bool)ViewBag.IsCashOnDelivery && zyShop != null && zyShop.CartItemModels.Count > 0&& productType==0)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <a class=\"offline\">货到付款</a>\r\n");
#nullable restore
#line 501 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </div>\r\n                </div>\r\n            </div>");
#nullable restore
#line 505 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                  }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 507 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
         if (otherShops != null && otherShops.Count > 0)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <div class=\"way-02\">\r\n                <h3>\r\n                    <span>仅支持在线支付</span><em>共<span id=\"unpay_pro_t\">");
#nullable restore
#line 511 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                               Write(otherShops.Sum(p => p.CartItemModels.Count));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</span>件</em>
                </h3>
                <div class=""pro-mid"">
                    <div class=""pro-list"">
                        <div class=""pro-wrap"">
                            <div class=""pro-img"">
                                <ul>
");
#nullable restore
#line 518 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                     foreach (var shop in otherShops)
                                    {
                                        foreach (var product in shop.CartItemModels)
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <li><a><img");
            BeginWriteAttribute("src", " src=\"", 30390, "\"", 30411, 1);
#nullable restore
#line 522 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 30396, product.imgUrl, 30396, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></a></li>\r\n");
#nullable restore
#line 523 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                        }
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class=""way-detail"">
                        <a class=""online active"">在线支付</a>
                    </div>
                </div>
            </div>");
#nullable restore
#line 533 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                  }

#line default
#line hidden
#nullable disable
            WriteLiteral("        <a id=\"pay-submit\">\r\n            确定\r\n        </a>\r\n    </div>\r\n\r\n</div>\r\n<div class=\"cover couponCover\" style=\"display:none;\"></div>\r\n<script>\r\n    var isLimitTimeBuy = \"");
#nullable restore
#line 542 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                     Write(ViewBag.IsLimit);

#line default
#line hidden
#nullable disable
            WriteLiteral("\";\r\n    var isFightGroup = ");
#nullable restore
#line 543 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                   Write(((bool?)ViewBag.IsFightGroup)==true?"true":"false");

#line default
#line hidden
#nullable disable
            WriteLiteral(";\r\n    var hasVerifiedPayPwd=false;\r\n</script>\r\n<input type=\"hidden\" id=\"latAndLng\"");
            BeginWriteAttribute("value", " value=\"", 31176, "\"", 31270, 1);
#nullable restore
#line 546 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31184, defaultAddress != null ? defaultAddress.Latitude+","+defaultAddress.Longitude:"0,0", 31184, 86, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input type=\"hidden\" id=\"shippingAddressId\"");
            BeginWriteAttribute("value", " value=\"", 31319, "\"", 31388, 1);
#nullable restore
#line 547 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31327, defaultAddress != null ? defaultAddress.Id.ToString() : "", 31327, 61, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input type=\"hidden\" id=\"shippingAddressRegionId\"");
            BeginWriteAttribute("value", " value=\"", 31443, "\"", 31518, 1);
#nullable restore
#line 548 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31451, defaultAddress != null ? defaultAddress.RegionId.ToString() : "", 31451, 67, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input type=\"hidden\" id=\"integralPerMoney\"");
            BeginWriteAttribute("value", " value=\"", 31566, "\"", 31614, 1);
#nullable restore
#line 549 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31574, ViewBag.ConfirmModel.integralPerMoney, 31574, 40, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input type=\"hidden\" id=\"capitalAmount\"");
            BeginWriteAttribute("value", " value=\"", 31659, "\"", 31704, 1);
#nullable restore
#line 550 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31667, ViewBag.ConfirmModel.capitalAmount, 31667, 37, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<input type=\"hidden\" id=\"collPIds\"");
            BeginWriteAttribute("value", " value=\"", 31744, "\"", 31769, 1);
#nullable restore
#line 551 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31752, ViewBag.collpids, 31752, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n<input type=\"hidden\" id=\"groupActionId\"");
            BeginWriteAttribute("value", " value=\"", 31812, "\"", 31842, 1);
#nullable restore
#line 552 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31820, ViewBag.GroupActionId, 31820, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n<input type=\"hidden\" id=\"groupId\"");
            BeginWriteAttribute("value", " value=\"", 31879, "\"", 31903, 1);
#nullable restore
#line 553 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31887, ViewBag.GroupId, 31887, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n<input type=\"hidden\" id=\"productType\"");
            BeginWriteAttribute("value", " value=\"", 31944, "\"", 31972, 1);
#nullable restore
#line 554 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
WriteAttributeValue("", 31952, ViewBag.productType, 31952, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n<input type=\"hidden\" id=\"PayCapitalPwd\"");
            BeginWriteAttribute("value", " value=\"", 32015, "\"", 32023, 0);
            EndWriteAttribute();
            WriteLiteral(" />\r\n\r\n<footer class=\"clearfix footer-cart\">\r\n    <em class=\"cart-total cart-total-lg\">\r\n        总金额<a id=\"allTotal\" data-alltotal=\"");
#nullable restore
#line 559 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                      Write(ViewBag.ConfirmModel.orderAmount.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\">¥");
#nullable restore
#line 559 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                                                                                         Write(ViewBag.ConfirmModel.orderAmount.ToString("F2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n    </em>\r\n    <a id=\"submit-order\" class=\"cart-pay\">提交</a>\r\n</footer>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c0cf39161e37a58fbfa1d5051b1d7fd8e2c97934101965", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c0cf39161e37a58fbfa1d5051b1d7fd8e2c97934103006", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c0cf39161e37a58fbfa1d5051b1d7fd8e2c97934104047", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c0cf39161e37a58fbfa1d5051b1d7fd8e2c97934105088", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_8);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n<script type=\"text/javascript\">\r\n    var existShopBranchUrl=\'");
#nullable restore
#line 568 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                       Write(Url.Action("ExistShopBranch"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"';
    var isintegral = false;
    var iscapital = false;
    var isResetUseCapital=false;
    var choseShopBranch = {};
    $(function () {

        $('.choseCoupon').click(function(){
            $('.dialogCoupon',this).addClass('active').show();
            $('.couponCover').fadeIn();
        });

        $('.dialog-close').click(function(e){
            e.stopPropagation();
            $('.dialogCoupon.active').hide();
            $('.couponCover').fadeOut();
        });

        //<!--商品滑动-->
        $("".pro-list .pro-img"").each(function () {
            $(this).width($('li', this).length * 72);
        });

        $('input[name=$"".DeliveryType""].express').change(function () {
            var goodsInfo = $(this).closest('.goods-info');
            var shopId=goodsInfo.attr('shopid');
            var div = goodsInfo.find('.choseshopbranch');
            div.addClass('hide');

            var priceElement = goodsInfo.find('.item .price');
            var oldPrice = parseFloat");
            WriteLiteral(@"(priceElement.data('oldprice'));
            priceElement.html('￥' + oldPrice.toFixed(2)).data('price', oldPrice);

            //运费
            var strFreight = ""免运费"";
            if (parseFloat(priceElement.data('freight')) > 0)
                strFreight = priceElement.data('freight') + ""元"";
            goodsInfo.find("".showfreight"").html(strFreight);
            $('.goods-info#{0} .price'.format(shopId)).removeAttr('selftake');

            CalcPrice();
        }).each(function(){this.checked=true;});

        $('input[name=$"".DeliveryType""].selftake').change(function () {
            if (this.checked == false)
                return;

            $(this).closest('.goods-info').find("".showfreight"").html('免运费');
            var div = $(this).closest('.goods-info').find('.choseshopbranch');
            if ($('#shippingAddressId').val() == '') {
                $.dialog.errorTips('请先设置收货地址');
                $(this).parent().parent().find('input[name$="".DeliveryType""].express').get(0).ch");
            WriteLiteral(@"ecked = true;
                return;
            }
            div.removeClass('hide');

            var $this = $(this);
            if ($this.attr('sbid')) {
                var shopId=$this.closest('.goods-info').attr('shopid');
                freeFreight(shopId);
                $('.goods-info#{0} .price'.format(shopId)).attr('selftake','');
            }
        });

        $('#capital').keyup(function () {
            var c = $(this);
            var oldVal = c.val();
            c.val(oldVal.replace(/[^\d|.]/, ''));
            c.val(c.val().replace(/^(\-)*(\d+)\.(\d\d).*$/, '$1$2.$3'));
        });

        var tagCacheKey='tagCacheKey';//标记，用于标记是否是从地址选择页或门店选择页返回到当前页的
        var sbCacheKey = 'ChoseShopBranch.Value';
        var saCacheKey = 'ChoseShippingAddress.Value';
        var $shippingAddressId=$('#shippingAddressId');
        var shippingAddressId=$shippingAddressId.val();
        var $shippingAddressRegionId=$('#shippingAddressRegionId');
        var shippingAddre");
            WriteLiteral(@"ssRegionId=$shippingAddressRegionId.val();

        //首次进入提交订单页面清除上次选择门店，链接未带优惠券参数且页面来源不是选择门店即为初次进入
        if(!QueryString('couponids')&& document.referrer.indexOf('order')==-1){
            window.localStorage.removeItem(tagCacheKey);
        }

        var cacheValue=window.getFromLocalStorate(tagCacheKey);

        //如果标记值为空，表示是从商品等其它页面过来的
        if(cacheValue){
            cacheValue = window.getFromLocalStorate(saCacheKey);
            if ($.notNullOrEmpty(cacheValue)) {
                if(cacheValue.isClear){
                    $(""#latAndLng"").val(""0,0"");
                    shippingAddressId='';
                    shippingAddressRegionId='';
                    $shippingAddressId.val('');
                    $shippingAddressRegionId.val('');
                    $('#choiceAddr').html('<p>您还没有填写收货地址<spa style=""color:red"">去新增</spa></p>');
                    return;
                }
                $('#choiceAddr').html(('<p id=""selectedAddress"">收货人：{0} <i class=""glyphicon glyph");
            WriteLiteral(@"icon-menu-right""></i><span>{1}</span></p>' +
				'<p class=""address"">{2} &nbsp;{3}&nbsp;{4}</p><i class=""icon""></i>')
					.format(cacheValue.shipTo, cacheValue.phone, cacheValue.regionFullName, cacheValue.address,cacheValue.addressDetail));
                $(""#latAndLng"").val(cacheValue.latAndLng);
                $shippingAddressId.val(cacheValue.id);
                shippingAddressId=cacheValue.id;
                $shippingAddressRegionId.val(cacheValue.regionId);
                shippingAddressRegionId=cacheValue.regionId;

                refreshFreight(cacheValue.regionId);//刷新运费

                $('input[name=$"".DeliveryType""].selftake').each(function(){
                    var $this=$(this);
                    var sid=$this.attr('sid');
                    var pids=$this.attr('pids').split(',');
                    $.ajax({
                        url: existShopBranchUrl+'?shopId={0}&regionId={1}&productIds={2}'.format(sid, cacheValue.regionId, pids.join('&productIds=')),
           ");
            WriteLiteral(@"             context: { element: $this },
                        success: function (result) {
                            if (result.data == true) {
                                this.element.removeAttr('disabled');
                            } else if (result.data == false) {
                                this.element.attr('disabled', '');
                            }
                        }
                    });
                });
            }

            cacheValue = window.getFromLocalStorate(sbCacheKey);
            if ($.notNullOrEmpty(cacheValue)&&$.notNullOrEmpty(shippingAddressRegionId)) {
                for (var shopId in cacheValue) {
                    var temp = cacheValue[shopId];
                    if(temp.regionId!=shippingAddressRegionId){
                        cacheValue=null;
                        break;
                    }

                    var radio = $('input[name=""shop{0}.DeliveryType""].selftake'.format(shopId));
                    if (ra");
            WriteLiteral(@"dio.length > 0) {
                        radio.get(0).checked=true;
                        radio.attr('sbid', temp.sbId);
                        var goodsInfo = $(radio).closest('.goods-info');
                        goodsInfo.find('.choseshopbranch').removeClass('hide').find('.content').html(temp.sbName);
                        radio.change();
                    }
                }

                CalcPrice();
            }
        }else{
            window.localStorage.removeItem(saCacheKey);
            window.localStorage.removeItem(sbCacheKey);
        }
        //window.localStorage.removeItem(tagCacheKey);

        $('#choiceAddr').click(function () {
            setTag();
            window.localStorage.removeItem(sbCacheKey);
            setReferrer();//写入当前地址
            setLeaveMmessage();//写入留言信息
            setOfflineCookie();
            location.href = '/' + areaName + '/order/ChooseShippingAddress?returnURL=' + encodeURIComponent(location.href);
        });

  ");
            WriteLiteral(@"      $('a.choseshopbranch').click(function(){
            setTag();
            setReferrer();//写入当前地址
            setLeaveMmessage();//写入留言信息
            setOfflineCookie();
            //$(this).attr('href',$(this).attr('bak-href')+'&shippingAddressId='+shippingAddressId+'&regionId='+shippingAddressRegionId);
        });

        function setTag() {
            window.saveToLocalStorage(tagCacheKey,{});
        }

        $('#userIntegralSwitch').change(function(){
            var checked=this.checked;
            if(checked){
                isResetUseCapital=true;
            }
            isintegral = checked;
            if (isintegral) {
                var _curpminput = $(""#useintegral"");
                var _curval = parseFloat(_curpminput.val());

                if (_curval <= 0 || isNaN(_curval)) {
                    _curpminput.val(Math.ceil(_curpminput.data(""maxmoney"") * _curpminput.data(""rate"")));
                    _curpminput.trigger(""change"");
                }
 ");
            WriteLiteral(@"               $(""#integralContainer"").show();
            } else {
                $(""#integralContainer"").hide();
            }
            CalcPrice();//切换积分兑换后要重新计算价格
        });


        $('#userCapitalSwitch').change(function(){
            iscapital = this.checked;
            if(iscapital){
                if(hasVerifiedPayPwd){
                    pwd=$(""#PayCapitalPwd"").val();
                    CanPayCapital(pwd);
                    return;
                }
                var cover = InitCover();
                $.ajax({
                    type: 'post',
                    url: '/' + areaName + '/Payment/GetPayPwd',
                    dataType: 'json',
                    data: {},
                    success: function (d) {
                        if (d.success) {
                            if ($('#payCapitalPwd').length < 1) {
                                var htmlPayPwd = """";
                                htmlPayPwd += '<div class=""box1 lh24 steponeee"" id=""p");
            WriteLiteral(@"ayCapitalPwd"" style=""display:none"">';
                                htmlPayPwd += '<span class=""close"" aria-hidden=""true""></span><form>';
                                htmlPayPwd += '<h3 class=""title_txt cur"">支付密码</h3>';
                                htmlPayPwd += '<div class=""item""><div>';
                                htmlPayPwd += '<input type=""password"" placeholder=""请输入支付密码"" value="""" id=""inputCapitalPwd""  maxlength=""20"" class=""form-control itxt fl"">';
                                htmlPayPwd += '</div></div><div class=""item""> <div><a id=""submitCapitalPay"" class=""btn btn-primary"">确认</a></div></div></form></div>';
                                $(""body"").append(htmlPayPwd);
                            }
                            cover.fadeIn();
                            $('#payCapitalPwd').show().find(""#inputCapitalPwd"").focus();
                        }
                        else {
                            if ($('#capitalstepone').length < 1) {
                            ");
            WriteLiteral(@"    var htmlSetPad = """";
                                htmlSetPad += '<div class=""box1 lh24 steponeee"" id=""capitalstepone"" style=""display:none"">';
                                htmlSetPad += '<span class=""close"" aria-hidden=""true""></span><form>';
                                htmlSetPad += '<h3 class=""title_txt cur"">请设置支付密码</h3>';
                                htmlSetPad += '<div class=""item""><div class=""fl"">';
                                htmlSetPad += '<input type=""password"" placeholder=""请输入支付密码"" value="""" id=""firstCapitalPwd""  maxlength=""20"" class=""form-control itxt fl"">';
                                htmlSetPad += '</div></div><div class=""item""> <div class=""fl"">';
                                htmlSetPad += '<input type=""password"" placeholder=""请再次输入支付密码"" value="""" id=""secondCapitalPwd""  maxlength=""20"" class=""form-control itxt fl"">';
                                htmlSetPad += '</div></div><div class=""item""> <div class=""fl""><a id=""submitCapitalPwd"" class=""btn btn-primary"">提交</a></di");
            WriteLiteral(@"v></div></form></div>';
                                $(""body"").append(htmlSetPad);
                            }
                            cover.fadeIn();
                            $('#capitalstepone').show().find(""#firstCapitalPwd"").focus();
                        }
                    }
                });
            }else{
                $(""#capitalContainer"").hide();
                CalcPrice();//切换预存款支付后要重新计算价格
            }
        });

        $(""body"").on(""click"",""#submitCapitalPay"",function(){
            var pwd = $(""#inputCapitalPwd"").val();
            if (pwd.length == 0) {
                $.dialog.alert(""请输入支付密码"");
                return false;
            }
            $.post('/' + areaName + '/Payment/ValidPayPwd', { pwd: pwd }, function (result) {
                if (result.success) {
                    CanPayCapital(pwd);
                    hasVerifiedPayPwd=true;
                }
                else {
                    hasVerifiedPayPwd=false;
    ");
            WriteLiteral(@"                $.dialog.errorTips(result.msg);
                    return false;
                }
            });
        }).on(""click"",""#submitCapitalPwd"",function(){
            var firstInput = $(""#firstCapitalPwd"");
            var secondInput = $(""#secondCapitalPwd"");
            var firstp = firstInput.val();
            var secondp = secondInput.val();
            if(!firstp || !secondp){
                $.dialog.alert('密码不能为空！');
                return false;
            }
            if (firstp.length < 6 || secondp.length < 6) {
                $.dialog.alert('密码长度不能少于6位');
                return false;
            }
            if(firstp != secondp){
                $.dialog.alert('两次密码不一致！');
                return false;
            }
            $.ajax({
                type: 'post',
                url: '/' + areaName + '/Payment/SetPayPwd',
                data: { ""pwd"": firstp },
                dataType: ""json"",
                success: function (data) {
        ");
            WriteLiteral(@"            var cover = InitCover();
                    cover.fadeOut();
                    if (data.success) {
                        $.dialog.succeedTips('设置成功！');
                        $('#capitalstepone').remove();
                        $(""#capitalContainer"").show();
                        $(""#capital"").focus();
                        CalcPrice();//切换预存款支付后要重新计算价格
                    }else{
                        $.dialog.errorTips('设置失败请重试');
                        $('#capitalstepone').remove();
                        $('#userCapitalSwitch').click();
                    }
                }
            });
        }).on(""click"",""#capitalstepone .close,#payCapitalPwd .close"",function(){
            $(this).parent().hide();
            var cover = InitCover();
            cover.fadeOut();
            $('#capitalstepone').remove();
            $('#payCapitalPwd').remove();
            $('#userCapitalSwitch').click();
        }).on('click','.cover',function(){
            $(");
            WriteLiteral(@"'#capitalstepone .close,#payCapitalPwd .close').click();
        });



        function CanPayCapital(pwd){
            $(""#PayCapitalPwd"").val(pwd);
            var cover = InitCover();
            cover.fadeOut();
            $('#payCapitalPwd').remove();
            $(""#capitalContainer"").show();
            $(""#capital"").val($(""#capital"").data(""balance""));
            $(""#capital"").focus();
            CalcPrice();//切换预存款支付后要重新计算价格
        }

        $("".bill-Cart .content-bill .bill-check"").eq(0).addClass(""active"");
        //$(""#choiceAddr"").click(function () {
        //    location.href = ""ChooseShippingAddress?returnURL="" + encodeURIComponent(location.href);
        //})

        //支付方式选择
        $("".way-detail>a"").click(function () {
            $(this).addClass(""active"").siblings().removeClass(""active"");
        });

        //发票选择
        $(""#AllInvoice>div>div>span"").click(function () {
            $(""#AllInvoice>div>div>span"").removeClass(""active"");
            $(th");
            WriteLiteral(@"is).addClass(""active"");
        });
        $("".content-bill>p"").click(function () {
            $("".content-bill>p>span"").removeClass(""active"");
            $(""span"", this).addClass(""active"");
        });

        //支付方式弹框动画
        $('#payment_m').click(function () {
            document.title = ""支付方式"";
            $('.payment-way').css('right', 0);
        });

        $('#pay-submit').click(function () {
            setPayWay();
            $('.payment-way').css('right', '-100%');
            document.title = ""订单提交"";
        });              

        var orderTag = '");
#nullable restore
#line 930 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
                   Write(ViewBag.OrderTag);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n        $.ajax({\r\n            url: \'");
#nullable restore
#line 932 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Mobile\Templates\Default\Views\Order\Submit.cshtml"
             Write(Url.Action("IsSubmited", "order", new {area="mobile" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"?orderTag=' + orderTag,
            cache: false,
            success: function (result) {
                if (result.data == true)
                    window.history.go(-1);//提交的订单不能退回
            }
        });
        initLeaveMsgAndBill();

        $(""#capital"").bind(""change"", function () {
            CalcPrice();
        });

        $(""#useintegral"").bind(""change"", function () {
            var _t = $(this);
            var v = _t.val(), max = _t.data(""maxmoney""), rate = _t.data(""rate"");
            var maxpoint = Math.ceil(max * rate);
            if (v <= maxpoint) {
                //var _dm = MoneyRound(v / rate);
                var _dm = v / rate;
                _dm = Math.floor(_dm * Math.pow(10, 2)) / Math.pow(10, 2);
                if (_dm > max) {
                    _dm = max;
                }
                $(""#integralPerMoney"").val(_dm);
            } else {
                _t.val(maxpoint);
            }
            CalcPrice();
        });
    });

   ");
            WriteLiteral(@" function setPayWay(){
        if ($("".way-01 .online"").hasClass(""active"")) {
            $(""#payment_m .payment-c a"").html(""在线支付"");
            $(""#1 .total-m .pay"").html(""在线支付"");

            $('#1[shopid=1] input[name=$"".DeliveryType""].selftake').removeAttr('disabled');
        }else {
            if($("".way-02"").length>0){
                $("".payment_m .payment-c a"").html(""在线支付+货到付款"");
                $(""#1 .total-m .pay"").html(""货到付款"");
            }else{
                $("".payment_m .payment-c a"").html(""货到付款"");
                $(""#1 .total-m .pay"").html(""货到付款"");
            }

            var expressInput=$('#1[shopid=1] input[name=$"".DeliveryType""].express');
            if(expressInput.length>0)
            {
                expressInput[0].checked=true;
                expressInput.change();
            }
            $('#1[shopid=1] input[name=$"".DeliveryType""].selftake').attr('disabled','');
        }
    }

    function setOfflineCookie(){
        if($("".way-01 .offline"").");
            WriteLiteral(@"hasClass(""active"")){
            window.localStorage.setItem('offlineWay',1);
        }else{
            window.localStorage.removeItem('offlineWay');
        }
    }

    function setReferrer() {
        window.localStorage.setItem(""refer"",window.location.href);
    }
    function setLeaveMmessage(){
        var remarkList = [];
        $('.goods-info[shopid]').each(function () {
            var shopId = $(this).attr('shopid');
            remarkList.push($('.orderRemarks#remark_' + shopId).val());
        });
        window.localStorage.setItem(""remarkList"",remarkList.join(','));
    }
    
    function initLeaveMsgAndBill(){
        var remarkList=window.localStorage.getItem(""remarkList""),
        	//invoiceTitle=window.localStorage.getItem(""invoiceTitle""),
       		//invoiceCode = window.localStorage.getItem(""invoiceCode""),
        	//invoiceContext=window.localStorage.getItem(""invoiceContext""),
        	offlineWay=window.localStorage.getItem(""offlineWay"");
        if(remarkList!=");
            WriteLiteral(@"null&&remarkList.length>0){
            var remark=remarkList.split(',');
            $('.goods-info[shopid]').each(function (i) {
                var shopId = $(this).attr('shopid');
                $('.orderRemarks#remark_' + shopId).val(remark[i]);
            });
            window.localStorage.removeItem(""remarkList"");
        }
        //发票信息默认
        $('.goods-info[shopid]').each(function () {
            var shopId = $(this).attr('shopid');
            var invoiceinfo = JSON.parse(window.localStorage.getItem(""invoiceInfo""+shopId));
            if(invoiceinfo != null){
                var $form = $(this).parent().find('div[name=""formInvoice' + shopId + '""]');
                //发票类型默认
                $form.find('.dvInvoiceType span').removeClass('active');
                $form.find('.dvInvoiceType span').each(function(){
                    if(parseInt($(this).attr('data-id')) == invoiceinfo.InvoiceType){
                        $(this).addClass(""active"");
                    }
   ");
            WriteLiteral(@"             });
                switch (invoiceinfo.InvoiceType) {
                    case 0:
                        break;
                    case 1:
                        $form.find('.elInvoice').hide();
                        $form.find('.dvInvoiceTitle').show();
                        $form.find('.vatInvoice').hide();
                        $form.find('.invoiceDay').hide();
                        break;
                    case 2:
                        $form.find('.elInvoice').show();
                        $form.find('.dvInvoiceTitle').show();
                        $form.find('.vatInvoice').hide();
                        $form.find('.invoiceDay').hide();
                        break;
                    case 3:
                        $form.find('.elInvoice').hide();
                        $form.find('.dvInvoiceTitle').hide();
                        $form.find('.vatInvoice').show();
                        $form.find('.invoiceDay').show();
                        b");
            WriteLiteral(@"reak;
                }
                //发票抬头默认
                $form.find('.dvInvoiceRise span').removeClass('active');
                if(invoiceinfo.Name == ""个人"")
                    $form.find('.dvInvoiceRise span').eq(0).addClass('active');
                else{
                    $form.find('.dvInvoiceRise span').eq(1).addClass('active');
                    $(this).parent().parent().find('.dvInvoincCompany').show();
                    $form.find('input[name=""invoicename""]').val(invoiceinfo.Name);
                    $form.find('input[name=""invoicecode""]').val(invoiceinfo.Code);
                }

                //发票类容默认
                $form.find('.dvInvoiceContext span').removeClass('active');
                $form.find('.dvInvoiceContext span').each(function(){
                    if($(this).text() == invoiceinfo.InvoiceContext){
                        $(this).addClass(""active"");
                    }
                });
                //电子发票默认收票人信息
                if(invoi");
            WriteLiteral(@"ceinfo.InvoiceType==2){
                    $form.find('input[name=""cellphone""]').val(invoiceinfo.CellPhone);
                    $form.find('input[name=""email""]').val(invoiceinfo.Email);
                }
                //增值税默认
                if(invoiceinfo.InvoiceType == 3){
                    $form.find('input[name=""companyname""]').val(invoiceinfo.Name);
                    $form.find('input[name=""companyno""]').val(invoiceinfo.Code);
                    $form.find('input[name=""registeraddress""]').val(invoiceinfo.RegisterAddress);
                    $form.find('input[name=""registerphone""]').val(invoiceinfo.RegisterPhone);
                    $form.find('input[name=""bankname""]').val(invoiceinfo.BankName);
                    $form.find('input[name=""bankno""]').val(invoiceinfo.BankNo);
                    $form.find('input[name=""vatrealname""]').val(invoiceinfo.RealName);
                    $form.find('input[name=""vatcellphone""]').val(invoiceinfo.CellPhone);
                    $form.find('in");
            WriteLiteral(@"put[name=""RegionID""]').val(invoiceinfo.RegionID);
                    $form.find('input[name=""vataddress""]').val(invoiceinfo.Address);
                }
                var rate = parseFloat($form.find('.dvInvoiceType span.active').attr('data-rate'));
                var typename = $form.find('.dvInvoiceType span.active').html();
                var s = '<span style=""' + (rate <= 0 ? ""display:none"" : """") + '"">(税率<span class=""taxprice red"" shopid=""' + shopId + '"">' + rate + '%</span>)</span> ' + typename + '(' + invoiceinfo.Name + ')';
                $('.bill-title' + shopId).html(s);
                CalcPrice();
            }else{
                var s = '不需要发票';
                $('.bill-title' + shopId).html(s);
                CalcPrice();
            }
            window.localStorage.removeItem(""invoiceInfo""+shopId);
        });
        //if(invoiceTitle!=null&&invoiceTitle!=''){
        //    $("".bill a"").text(invoiceTitle);
        //    $("".bill #invoicecode"").text(invoiceCode);
     ");
            WriteLiteral(@"   //    $("".bill-Cart .content-bill .bill-check"").removeClass(""active"").eq(invoiceContext-1).addClass(""active"");
        //    window.localStorage.removeItem(""invoiceTitle"");
        //    window.localStorage.removeItem(""invoiceCode"");
        //    window.localStorage.removeItem(""invoiceContext"");
        //}
        if(offlineWay){
            $("".way-01 .offline"").addClass(""active"").siblings().removeClass('active');
            setPayWay();
            window.localStorage.removeItem('offlineWay');
        }
    }

    function onChooseCoupon(couponBaseId,baseType,obj){
        setOfflineCookie();
        var oldCouponId = $(obj).parent().next().val();
        if(couponBaseId!=oldCouponId){
            $(obj).parent().next().val(couponBaseId);
            $(obj).parent().next().attr(""data-type"",baseType);
            changeConditionReload();
        }
        else{
            $(obj).parent().next().val(0);
            $(obj).parent().next().attr(""data-type"",99);
            changeCo");
            WriteLiteral(@"nditionReload();
        }
    }

    function changeConditionReload(){
        var couponIds = """";
        $('input[name=""couponIds""]').each(function (i, e) {
            var type = $(this).attr(""data-type"");
            couponIds = couponIds + $(e).val() + '_' + type + ',';
        })
        if (couponIds != '') {
            couponIds = couponIds.substring(0, couponIds.length - 1);
        }
        var url = location.href;
        if (url.toLowerCase().indexOf(""couponids"") < 0) {
            var splitText = ""?"";
            var _tmparr = url.split(splitText);
            console.log(_tmparr);
            url = _tmparr[0];
            url += ""?couponids="";
            if (_tmparr.length > 1) {
                url += ""&"" + _tmparr[1];
            }
        }
        url = url.replace(/([\?&]couponids=)[^\?&]*/, ""$1"" + couponIds);
        location.href = url;
    }
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
