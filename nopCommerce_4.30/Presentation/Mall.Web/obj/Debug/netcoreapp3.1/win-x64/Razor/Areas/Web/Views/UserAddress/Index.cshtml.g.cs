#pragma checksum "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c983b2dfe2d2bea34f72cf8a92575d649dc9addc"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Web_Views_UserAddress_Index), @"mvc.1.0.view", @"/Areas/Web/Views/UserAddress/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 13 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.ViewFeatures;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Html;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Rendering;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Http.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Mvc.Razor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Nop.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web.Framework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.DTO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 33 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web.Areas.SellerAdmin.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 34 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Web.Areas.Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 36 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 37 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 41 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\_ViewImports.cshtml"
using Mall.CommonModel;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c983b2dfe2d2bea34f72cf8a92575d649dc9addc", @"/Areas/Web/Views/UserAddress/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"090c48694750ba7c62e752bf94ad67a159f3356f", @"/Areas/Web/Views/_ViewImports.cshtml")]
    public class Areas_Web_Views_UserAddress_Index : Mall.Web.Framework.WebViewPage<IEnumerable<Mall.Entities.ShippingAddressInfo>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/Areas/Web/Content/base.css?v=20183030"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Scripts/jquery.Mall.Region.js?v=20183030"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
  
    Layout = "~/Areas/Web/Views/Shared/_UserCenter.cshtml";
    ViewBag.Title = "收货地址管理";

#line default
#line hidden
#nullable disable
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "c983b2dfe2d2bea34f72cf8a92575d649dc9addc7705", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<!--<link href=""~/Areas/Web/Content/myjd.easebuy.css"" rel=""stylesheet"" />-->
<style>
    .pd10 {
        padding-top: 30px;
        padding-bottom: 18px;
        line-height: 15px;
        font-size: 14px;
    }

        .pd10 span.al {
            color: #494e52;
            margin-right: 20px;
        }

        .pd10 span.ftx-03 {
            font-size: 12px;
            color: #acb1b9;
        }

        .pd10 a.e-btn {
            float: right;
            font-size: 13px;
            color: #6799B5;
            margin-right: 36px;
        }

            .pd10 a.e-btn:before {
                content: ""+"";
                margin-right: 5px;
                font-size: 16px;
            }

    .tb-void tbody tr td {
        padding-top: 26px;
        padding-bottom: 28px;
        font-size: 14px;
        color: #494e52;
    }

    .easebuy-m {
        border: none;
        border-bottom: 1px solid #f1f1f1;
    }

    a.id_edit, a.del, a.update {
        color:");
            WriteLiteral(@" #899fb0;
    }

        a.id_edit:hover, a.del:hover, a.update:hover {
            text-decoration: none;
        }

        a.id_edit:after, a.delete:after {
            content: ""|"";
            margin: 0 10px;
            font-size: 12px;
            color: #c2c3c4;
        }

    .default-address {
        border: 1px solid #b7bbbd;
        background: linear-gradient(#f9f9f9,eeefef) !important;
        border-radius: 3px;
        color: #6a7c86;
        font-size: 13px;
        width: 82px;
        padding: 0;
        position: relative;
        height: 24px;
        line-height: 24px;
    }

        .default-address:hover {
            color: #6a7c86;
        }

    ##edit-cont {
        padding-top: 0 !important;
    }
</style>
<div class=""box1 lh24"">
    <div class=""title bot-border"">
        <h3 class=""title_txt cur"">收货地址管理</h3>
    </div>
    <div class=""border-box"">
        <div class=""mod lh24"">
            <div class=""pd10"">
                <span class=""");
            WriteLiteral("al\">已保存的收货地址</span>\r\n                <span class=\"ftx-03\">您已创建<span id=\"addressNum_top\">");
#nullable restore
#line 95 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                              Write(Model.Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(@" </span>个收货地址，最多可创建20个</span>
                <a href=""javascript:;"" class=""e-btn add-btn"">新增收货地址</a>
            </div>
            <div class=""mc"" id=""order_box"">

                <table class=""tb-void"">
                    <thead>
                        <tr>
                            <th width=""100"">收货人</th>
                            <th width=""150"">所在地区</th>
                            <th width=""200"">收货地址</th>
                            <th width=""100"">电话号码</th>
                            <th width=""120"">操作</th>
                            <th width=""100""></th>
                        </tr>
                    </thead>
                    <tbody>
");
#nullable restore
#line 112 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                         if (Model.Count() == 0)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <tr><td colspan=\"6\" class=\"ety\"><div class=\"empty\">暂时没有记录！</div></td></tr>\r\n");
#nullable restore
#line 115 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 116 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                         foreach (var m in Model)
                        {
                            var quick = m.IsQuick;
                            var defaultquick = quick ? "default-address" : "";
                            bool isdefault = m.IsDefault;


#line default
#line hidden
#nullable disable
            WriteLiteral("                            <tr");
            BeginWriteAttribute("id", " id=\"", 3570, "\"", 3580, 1);
#nullable restore
#line 122 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue("", 3575, m.Id, 3575, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"sm easebuy-m\">\r\n                                <td>");
#nullable restore
#line 123 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                               Write(m.ShipTo);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                <td");
            BeginWriteAttribute("data", " data=\"", 3692, "\"", 3710, 1);
#nullable restore
#line 124 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue("", 3699, m.RegionId, 3699, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 124 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                  Write(m.RegionFullName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                <td>");
#nullable restore
#line 125 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                Write(m.AddressDetail != null ? m.Address + " " + m.AddressDetail : m.Address);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                <td");
            BeginWriteAttribute("fromlatlng", " fromlatlng=\"", 3888, "\"", 3925, 3);
#nullable restore
#line 126 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue("", 3901, m.Latitude, 3901, 11, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 3912, ",", 3912, 1, true);
#nullable restore
#line 126 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue("", 3913, m.Longitude, 3913, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 126 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                     Write(m.Phone);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                <td><a class=\"id_edit\" href=\"javascript:;\"");
            BeginWriteAttribute("data", " data=\"", 4016, "\"", 4028, 1);
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue("", 4023, m.Id, 4023, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-add=\"");
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                             Write(m.Address);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-detail=\"");
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                                                       Write(m.AddressDetail==null ? "":m.AddressDetail);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">编辑</a><a");
            BeginWriteAttribute("class", " class=\"", 4120, "\"", 4159, 2);
            WriteAttributeValue("", 4128, "del", 4128, 3, true);
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue(" ", 4131, m.NeedUpdate?"delete":"", 4132, 27, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" href=\"javascript:;\" data-tag=\"");
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                                                                                                                                                                                    Write(m.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">删除</a><a");
            BeginWriteAttribute("class", " class=\"", 4206, "\"", 4246, 2);
            WriteAttributeValue("", 4214, "update", 4214, 6, true);
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue(" ", 4220, m.NeedUpdate?"":"hide", 4221, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" href=\"javascript:void(0);\"");
            BeginWriteAttribute("data", " data=\"", 4274, "\"", 4286, 1);
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue("", 4281, m.Id, 4281, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-add=\"");
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                                                                                                                                                                                                                                                                                               Write(m.Address);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-detail=\"");
#nullable restore
#line 127 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                         Write(m.AddressDetail==null ? "":m.AddressDetail);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">升级地址</a></td>\r\n                                <td>\r\n                                    <a");
            BeginWriteAttribute("class", " class=\"", 4461, "\"", 4513, 3);
            WriteAttributeValue("", 4469, "btn-9", 4469, 5, true);
            WriteAttributeValue(" ", 4474, "default-address", 4475, 16, true);
#nullable restore
#line 129 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue(" ", 4490, isdefault?"hide":"", 4491, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" href=\"javascript:;\" data-id=\"");
#nullable restore
#line 129 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                                                    Write(m.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isneedupdate=\"");
#nullable restore
#line 129 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                                                                              Write(m.IsNeedUpdate);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">设为默认</a>\r\n");
#nullable restore
#line 130 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                     if (isdefault)
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <span class=\"confirm-gou\">默认地址</span>\r\n");
#nullable restore
#line 133 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                </td>\r\n                            </tr>\r\n");
#nullable restore
#line 136 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<div");
            BeginWriteAttribute("id", " id=\"", 5030, "\"", 5035, 0);
            EndWriteAttribute();
            WriteLiteral(" class=\"thickdiv hide\"></div>\r\n\r\n<div id=\"order_edit\" class=\"thickbox hide\" style=\"left: 566.5px; top: 0px;\">\r\n    <div class=\"thickwrap\">\r\n        <div");
            BeginWriteAttribute("id", " id=\"", 5188, "\"", 5193, 0);
            EndWriteAttribute();
            WriteLiteral(" class=\"thicktitle\">\r\n            <span>新增收货地址</span>\r\n        </div>\r\n        <div style=\"width:auto; padding-left: 10px; padding-right: 10px;\"");
            BeginWriteAttribute("id", " id=\"", 5338, "\"", 5343, 0);
            EndWriteAttribute();
            WriteLiteral(@" class=""thickcon"">
            <div id=""addressDiagDiv"">
                <input type=""hidden"" value=""false"" id=""isDefault"">
                <input type=""hidden"" value=""0"" id=""update_paymentId"">
                <input type=""hidden"" value=""0"" id=""update_pickId"">
                <input type=""hidden""");
            BeginWriteAttribute("value", " value=\"", 5646, "\"", 5654, 0);
            EndWriteAttribute();
            WriteLiteral(@" id=""update_pickName"">
                <div id=""edit-cont"" class=""m"">
                    <div class=""mc"">
                        <div class=""form"">
                            <div class=""item"">
                                <span class=""label""><em>*</em>收货人：</span>
                                <div class=""fl"">
                                    <input type=""text"" class=""text""");
            BeginWriteAttribute("value", " value=\"", 6049, "\"", 6057, 0);
            EndWriteAttribute();
            WriteLiteral(@" id=""consigneeName"">
                                    <span class=""error-msg hide"" id=""consigneeNameNote"">请您填写收货人姓名</span>
                                </div>
                                <div class=""clr""></div>
                            </div>
                            <div class=""item"">
                                <span class=""label""><em>*</em>所在地区：</span>
                                <div class=""fl"">
                                    <div id=""area-selector""></div>
                                    ");
#nullable restore
#line 174 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                               Write(Html.Hidden("RegionId"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                    <span id=""areaNote"" class=""error-msg  hide"">请您填写完整的地区信息</span>
                                </div>

                                <div class=""clr""></div>
                            </div>
                            <div class=""item"" style=""overflow: inherit;"">
                                <span class=""label""><em>*</em>小区/大厦/学校：</span>
                                <div class=""fl"" id=""detailaddr"">
");
            WriteLiteral("                                    <input type=\"text\" class=\"text text1\"");
            BeginWriteAttribute("value", " value=\"", 7404, "\"", 7412, 0);
            EndWriteAttribute();
            WriteLiteral(@" id=""consigneeAddress"">
                                    <div class=""select-container"" id=""divAdr"">
                                        <ul id=""nearAddress""></ul>
                                        <div id=""divMore"" style=""text-align:center; padding: 0px 15px 60px 15px;"" onclick=""searchKeyword(2, '')"">
                                        </div>
                                    </div>
                                </div>
                                <span id=""consigneeAddressNote"" class=""error-msg hide"">收货人小区/大厦/学校不能为空</span>
                                <div class=""clr""></div>
                            </div>
                            <div class=""item"">
                                <span class=""label"">楼号-门牌号：</span>
                                <div class=""fl"">
                                    <input type=""text"" class=""text""");
            BeginWriteAttribute("value", " value=\"", 8302, "\"", 8310, 0);
            EndWriteAttribute();
            WriteLiteral(@" id=""addressDetail"">
                                </div>
                                <div class=""clr""></div>
                            </div>

                            <div class=""item"">
                                <div class=""fl"">
                                    <span class=""label""><em>*</em>手机号码：</span>
                                    <input type=""text"" class=""text"" maxlength=""20""");
            BeginWriteAttribute("value", " value=\"", 8728, "\"", 8736, 0);
            EndWriteAttribute();
            WriteLiteral(@" id=""consigneeMobile"">
                                    <span id=""consigneeMobileNote"" class=""error-msg hide"">联系方式未填写或格式不正确</span>
                                    <span class=""clr""></span>
                                </div>
                                <div class=""clr""></div>
                            </div>
                            <div class=""btns"">
                                <a id=""id_add_order"" class=""e-btn btn-5 save-btn"" href=""javascript:;"">保存收货地址</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a");
            BeginWriteAttribute("id", " id=\"", 9397, "\"", 9402, 0);
            EndWriteAttribute();
            WriteLiteral(" class=\"thickclose\" href=\"#\">×</a>\r\n    </div>\r\n</div>\r\n");
#nullable restore
#line 224 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
Write(Html.Hidden("Longitude"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 225 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
Write(Html.Hidden("Latitude"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<input type=\"hidden\" id=\"isOpenStore\"");
            BeginWriteAttribute("value", " value=\"", 9549, "\"", 9588, 1);
#nullable restore
#line 226 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
WriteAttributeValue("", 9557, ViewBag.IsOpenStore.ToString(), 9557, 31, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<div id=\"id_del_ms\" class=\"thickbox hide\" style=\"left: 786.5px; top: 458px;\">\r\n    <div class=\"thickwrap\">\r\n        <div");
            BeginWriteAttribute("id", " id=\"", 9714, "\"", 9719, 0);
            EndWriteAttribute();
            WriteLiteral(" class=\"thicktitle\">\r\n            <span>删除</span>\r\n        </div>\r\n        <div style=\"width: 300px; padding-left: 10px; padding-right: 10px;\"");
            BeginWriteAttribute("id", " id=\"", 9862, "\"", 9867, 0);
            EndWriteAttribute();
            WriteLiteral(@" class=""thickcon"">
            <div class=""m flexbox"">
                <div class=""mc"">
                    <div class=""tip-box icon-box"">
                        <span class=""warn-icon m-icon""></span>
                        <div class=""item-fore"">
                            <h3 class=""ftx04"">您确定要删除该收货地址吗？</h3>
                            <div class=""op-btns"">
                                <a id=""id_del_c"" class=""btn-8"">确定</a>
                                <a id=""id_del_n"" class=""btn-9 ml10"" href=""javascript:void(0);"">取消</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a");
            BeginWriteAttribute("id", " id=\"", 10581, "\"", 10586, 0);
            EndWriteAttribute();
            WriteLiteral(" class=\"thickclose\" href=\"javascript:void(0);\">×</a>\r\n    </div>\r\n</div>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c983b2dfe2d2bea34f72cf8a92575d649dc9addc30824", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<script charset=""utf-8"" src=""https://map.qq.com/api/js?v=2.exp""></script>
<script charset=""utf-8"" src=""https://map.qq.com/api/js?v=2.exp&libraries=convertor""></script>

<script>
    (function ($) {
        var regEmpty = /\w+/g,
            number = ($('.easebuy-m').length),
            checkNumber = function (n) {
                if (n >= 20) {
                    return true;
                }
            },
            regTel = /^1\d{10}$/;
        $('#ordermethod1').bind('click', function (e) {
            $(this).addClass('order-method-selected');
            $(this).attr('data-tag', 1);
            $('#ordermethod0').removeClass('order-method-selected').attr('data-tag', 0);
        });
        $('#ordermethod0').bind('click', function (e) {
            $(this).addClass('order-method-selected');
            $(this).attr('data-tag', 1);
            $('#ordermethod1').removeClass('order-method-selected').attr('data-tag', 0);
        });
        $('#id_del_c').bind('click', function");
            WriteLiteral(@" (e) {
            var n = $(this).attr('data-del');
            if (n) {
                $('.thickdiv').hide();
                $('#id_del_ms').hide();
                var loading = showLoading();
                $.ajax({
                    type: 'post',
                    url: """);
#nullable restore
#line 283 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                     Write(Url.Action("DeleteShippingAddress"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                    dataType: 'json',
                    data: { id: n },
                    success: function (d) {
                        loading.close();
                        if (d.success) {
                            $('#' + n).remove();
                            $('#addressNum_top,#addressNum_bottom').html($('.easebuy-m').length);
                            number = $('.easebuy-m').length;
                        }
                        else {
                            $.dialog.errorTips('删除失败,' + d.msg);
                        }
                    }
                });
            }
        });
        $('#id_del_n,.thickclose').bind('click', function (e) {
            $('#id_del_ms').hide();
            $('#order_edit').hide();
            $('.thickdiv').hide();
            data = {};
            arr = [];
            $('#consigneeName').val('');
            $('#consigneeAddress').val('');
            $('#consigneeMobile').val('');
            $('#areaName'");
            WriteLiteral(@").html('');
            $('#id_add_order').attr('data', '');
            $('#order_edit').hide();
            $('.thickdiv').hide();
        });
        arr = [];
        data = {};
        $('#id_payment_c').bind('click', function (e) {
            //
        });
        city = [];
        $(""#area-selector"").RegionSelector({
            selectClass: ""sele"",
            valueHidden: ""#RegionId""
        });
        $(""#area-selector select"").change(function () {//每次选择地址后都要将详细地址清空，防止经纬度和地区不匹配
            $(""#consigneeAddress"").val("""");
        });
        $('.add-btn').each(function (i, e) {
            $(e).bind('click', function () {
                if (checkNumber(number)) {
                    $.dialog.errorTips('最多只能创建20个收货地址！');
                    return;
                }
                var left, top, width, height;
                left = $(window).width() / 2;
                top = $(window).height() / 2;
                width = $('.thickbox').width() / 2;
                ");
            WriteLiteral(@"height = $('.thickbox').height() / 2;
                $('.thickdiv').show();
                $('#order_edit .thicktitle').text('新增收货地址');
                $('#order_edit').css({ top: '50%', left: '50%', marginLeft: '-' + width + 'px', marginTop: '-' + height + 'px', position: 'fixed' }).show();
                $(""#RegionId"").val(0);
                $(""#area-selector"").RegionSelector({
                    selectClass: ""sele"",
                    valueHidden: ""#RegionId""
                });
                $('#consigneeName').val('');
                $('#consigneeNameNote').hide();
                $('#consigneeAddress').val('');
                $('#consigneeAddressNote').hide();
                $('#addressDetail').val('');
                $('#consigneeMobile').val('');
                $('#consigneeMobileNote').hide();
                $('#areaName').html('');
                $('#areaNote').hide();
                $('#id_add_order').attr('data', '');
                $(""#consigneeName"").focus();");
            WriteLiteral(@"
            });
        });
        var getOption = function (elem, bool) {
            var s, t;
            if (bool) {
                elem.children().each(function (i, e) {
                    s = e.selected;
                    if (s == true) {
                        t = $(e).html();
                        if (t == '请选择') {
                            t = '';
                        }
                        return;
                    }
                });
            } else {
                elem.children().each(function (i, e) {
                    s = e.selected;
                    if (s == true) {
                        t = $(e).val();
                        return;
                    }
                });
            }
            return t;
        };

        $('#consigneeName').blur(function () {
            var str = $.trim($(this).val());
            if (str) {
                $('#consigneeNameNote').hide();
            } else {
                $('#consign");
            WriteLiteral(@"eeNameNote').show();
            }
        });
        var isopenstore = $('#isOpenStore').val();
        if (isopenstore == 'True') {
            $('#consigneeAddress').blur(function () {
                var obj = $(this);
                setTimeout(function () {
                    $("".select-container"").hide();
                    var str = $(obj).val();
                    if (str) {
                        $('#consigneeAddressNote').hide();
                    } else {
                        $('#consigneeAddressNote').show();
                    }
                }, 300);
            });
            $('#consigneeAddress').focus(function () {
                $("".select-container"").show();
                setTimeout(function () {
                    if ($(""#consigneeAddress"").val().length > 0) {
                        searchKeyword(1, '');
                    }
                }, 300);
            });
            $('.select-container li').click(function () {
                $('#");
            WriteLiteral(@"consigneeAddress').val($(this).attr('data-addr'));
                $('#consigneeAddress').blur();
            });
        }        

        $('#consigneeMobile').blur(function () {
            var str = $(this).val(),
                bool = regTel.test(str);
            if (bool) {
                $('#consigneeMobileNote').hide();
            } else {
                $('#consigneeMobileNote').show();
            }
        });
        $('#id_add_order').bind('click', function () {
            var consigneeName = $.trim($('#consigneeName').val()),
                regionId = $(""#RegionId"").val(),
                consigneeAddress = $('#consigneeAddress').val(),
                consigneeAddressDetail = $('#addressDetail').val(),
                consigneeMobile = $('#consigneeMobile').val(),
                consigneePhone = $('#consigneePhone').val(),
                consigneeEmail = $('#consigneeEmail').val(),
                consigneeAlias = $('#consigneeAlias').val(),
                bool");
            WriteLiteral(@" = ($(this).attr('data')) ? $(this).attr('data').split(',') : '',
                valArr = [consigneeName, """", consigneeAddress, consigneeMobile, '', ''];
            if (consigneeName) {
                $('#consigneeNameNote').hide();
            } else {
                $('#consigneeNameNote').show();
                return;
            }

            if ($.trim(consigneeName).length == 0) {
                $('#consigneeNameNote').show();
                return;
            }
            if ($.trim(consigneeAddress).length == 0) {
                $('#consigneeAddressNote').show();
                return;
            }
            if (consigneeAddress) {
                $('#consigneeAddressNote').hide();
            } else {
                $('#consigneeAddressNote').show();
                return;
            }

            if ($(""#RegionId"").attr(""isfinal"") != ""true"") {
                $('#areaNote').show();
                return;
            } else {
                $('#areaNo");
            WriteLiteral(@"te').hide();
            }


            if (!regTel.test(consigneeMobile)) {
                $('#consigneeMobileNote').show();
                return;
            } else {
                $('#consigneeMobileNote').hide();
            }

            // ----------------------  添加收货地址
            if (1 && (!bool[0])) {
                var loading = showLoading();
                $.ajax({
                    type: 'post',
                    url: """);
#nullable restore
#line 482 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                     Write(Url.Action("AddShippingAddress"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                    dataType: 'json',
                    data: { RegionId: regionId, Address: consigneeAddress, AddressDetail: consigneeAddressDetail, Phone: consigneeMobile, ShipTo: consigneeName, Latitude: $(""#Latitude"").val(), Longitude: $(""#Longitude"").val() },
                    success: function (d) {
                        loading.close();
                        if (d.success) {
                            location.reload();
                        } else {
                            $.dialog.errorTips('保存地址失败,' + d.msg);
                        }
                    }
                });

            }
            // ----------------------  编辑收货地址

            if (1 && bool[0]) {
                var loading = showLoading();
                $.ajax({
                    type: 'post',
                    url: """);
#nullable restore
#line 502 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                     Write(Url.Action("EditShippingAddress"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                    dataType: 'json',
                    data: { id: bool[1], RegionId: regionId, Address: consigneeAddress, AddressDetail: consigneeAddressDetail, Phone: consigneeMobile, ShipTo: consigneeName, Latitude: $(""#Latitude"").val(), Longitude: $(""#Longitude"").val() },
                    success: function (d) {
                        loading.close();
                        if (d.success) {
                            location.reload();
                        } else {
                            $.dialog.errorTips('保存地址失败,' + d.msg);
                        }
                    }
                });
            }
            data = {};
            arr = [];
            $('#consigneeName').val('');
            $('#consigneeAddress').val('');
            $('#addressDetauk').val('');
            $('#consigneeMobile').val('');
            $('#areaName').html('<span></span>&nbsp;<span></span>&nbsp;<span></span>');
            $('#id_add_order').attr('data', '');
            $(");
            WriteLiteral(@"'#order_edit').hide();
            $('.thickdiv').hide();
            $(""#RegionId"").val(0);
            $(""#area-selector"").RegionSelector({
                selectClass: ""sele"",
                valueHidden: ""#RegionId""
            });
            $(""#area-selector select"").change(function () {//每次选择地址后都要将详细地址清空，防止经纬度和地区不匹配
                $(""#consigneeAddress"").val("""");
            });
        });
        $('#order_box').bind('click', function (e) {
            var a = e.target,
                left, top, width, height,
                cla = $(a).hasClass('update-eshop'),
                setdefault = $(a).hasClass('default-address'),
                del = $(a).hasClass('del'),
                edit = $(a).hasClass('id_edit'),
                update = $(a).hasClass('update');
            if (cla) {
                var dom = $(a),
                a = dom.attr('data').split(',');
                $('.update-eshop').each(function () {
                    $(this).show();
                });");
            WriteLiteral("\n\r\n                $(e.target).hide();\r\n                // ----------------------  升级轻松购\r\n                var loading = showLoading();\r\n                $.ajax({\r\n                    type: \'post\',\r\n                    url: \"");
#nullable restore
#line 554 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                     Write(Url.Action("SetQuickShippingAddress"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                    data: { id: a[0] },
                    dataType: 'json',
                    success: function (d) {
                        loading.close();
                        if (d.success) {
                            $('.update-eshop').each(function () {
                                $(this).show();
                            });
                            $('.default-address').removeClass('default-address');
                            $('#' + a[0]).children().first().children().last().children().filter('.id_edit').attr('data-q', 1);
                            $('#' + a[0]).addClass('default-address');
                            $(e.target).hide();
                        }
                    }
                });
            }
            if (setdefault) {
                var dom = $(a),
                did = dom.data('id'),
                isneedupdate = dom.data('isneedupdate');
                if (isneedupdate == 1) {
                    $.dialog.errorTips('");
            WriteLiteral(@"地址库已更新，收货地址需要升级');
                    return;
                }
                $('.default-address').each(function () {
                    $(this).css({ ""display"": ""block"", ""left"": ""30px"" });
                });

                $(e.target).hide();
                // ----------------------  升级轻松购
                var loading = showLoading();
                $.ajax({
                    type: 'post',
                    url: """);
#nullable restore
#line 588 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                     Write(Url.Action("SetDefaultShippingAddress"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                    data: { id: did },
                    dataType: 'json',
                    success: function (d) {
                        loading.close();
                        if (d.success) {
                            $('.default-address:visible').next(""span"").remove();
                            $('.default-address').each(function () {
                                $(this).removeClass(""hide"");

                            });
                            //$('.default-address').removeClass('default-address');
                            //$('#' + a[0]).children().first().find('h3').prepend('<span class=""ftx-02 mr10"" style=""line-height:20px;"">轻松购</span>');
                            //$('#' + a[0]).children().first().children().last().children().filter('.id_edit').attr('data-q', 1);
                            //$('#' + a[0]).addClass('default-address');
                            $(e.target).after('<span class=""confirm-gou"">默认地址</span>');
                            $(e.ta");
            WriteLiteral(@"rget).hide();

                        }
                    }
                });
            }
            if (del) {
                left = $(window).width();
                top = $(window).height();
                width = $('#id_del_ms').width();
                height = $('#id_del_ms').height();
                $('.thickdiv').show();
                $('#id_del_c').attr('data-del', $(a).attr('data-tag'));
                $('#id_del_ms').css({ top: ((top - height) / 2) + 'px', left: ((left - width) / 2) + 'px', position: 'fixed' }).show();
            }
            if (edit || update) {
                var dom = $(a),
                    s = dom.attr('data'),
                    q = dom.attr('data-q'),
                    strArr = ['consigneeName', 'city', 'areaName', 'consigneeAddress', 'consigneeMobile', 'fromLatLng'], consigneeAlias;
                if (s) {
                    consigneeAlias = $('#' + s).children().first().text();
                    arr.push(consigneeAlias);
 ");
            WriteLiteral(@"               } else {
                    consigneeAlias = $('#' + s).children().first().text();
                    arr.push(consigneeAlias);
                }

                $('#' + s + ' td').each(function (i, item) {
                    if (i > 0 && i < 4) {
                        if ($(item).attr('data')) {
                            //arr.push($(this).data('data')); YZY修改
                            arr.push($(item).attr('data'));
                            arr.push($(item).text());
                        } else if ($(item).attr('fromLatLng')) {
                            arr.push($(item).text());
                            arr.push($(item).attr('fromLatLng'));
                        } else {
                            arr.push($(item).text());
                        }
                    }
                });

                for (var i = 0, o, num = 0; o = arr[i];) {
                    data[strArr[num]] = o;
                    i++;
                    num++;
    ");
            WriteLiteral(@"                // console.log(strArr[num++]+"" ""+arr[i++]);

                }
                console.log(data)
                var addr = dom.attr('data-add');
                var addrDetail = dom.attr('data-detail');
                $('#consigneeNameNote').hide();
                $('#consigneeAddressNote').hide();
                $('#consigneeMobileNote').hide();
                $('#areaNote').hide();
                $('#consigneeName').val(data.consigneeName);
                $('#consigneeNameNote').hide();
                if (!update) $('#consigneeAddress').val(addr);
                $('#consigneeMobile').val(data.consigneeMobile);
                $('#addressDetail').val(addrDetail);
                $('#order_edit .thicktitle').text('编辑收货地址');
                var areaArr = data.areaName.split(' ');
                areaArr[2] = areaArr[2] || '';
                $('#areaName').html('<span>' + areaArr[0] + '&nbsp;</span>' + '<span>' + areaArr[1] + '&nbsp;</span>' + '<span>' + areaArr[2] + ");
            WriteLiteral(@"'&nbsp;</span>');
                $('#id_add_order').attr('data', 1 + ',' + s + (q ? (',' + q) : ''));
                var parr = data.city.split(','),
                    pid = parr[0],
                    cid = parr[1],
                    cuid = parr[2];
                $(""#RegionId"").val(data.city);
                $(""#area-selector"").RegionSelector({
                    selectClass: ""sele"",
                    valueHidden: ""#RegionId""
                });
                $(""#area-selector select"").change(function () {//每次选择地址后都要将详细地址清空，防止经纬度和地区不匹配
                    $(""#consigneeAddress"").val("""");
                });
                if (data.fromLatLng != null && data.fromLatLng != '') {
                    $(""#Latitude"").val(data.fromLatLng.split(',')[0]);
                    $(""#Longitude"").val(data.fromLatLng.split(',')[1]);
                }
                left = $(window).width() / 2;
                top = $(window).height() / 2;
                width = $('.thickbox').width() / ");
            WriteLiteral(@"2;
                height = $('.thickbox').height() / 2;
                $('.thickdiv').show();
                $('#order_edit').css({ top: '50%', left: '50%', marginLeft: '-' + width + 'px', marginTop: '-' + height + 'px', position: 'fixed' }).show();
            }
        });
    }(jQuery));

</script>
<script type=""text/javascript"">
    var searchService;
    var pageIndex = 0;
    var pageCapacity = 1000;
    var geocoder;
    var hasData = true;
    $(document).ready(function () {
        //设置Poi检索服务，用于本地检索、周边检索
        searchService = new qq.maps.SearchService({
            //检索成功的回调函数
            complete: function (results) {
                //设置回调函数参数
                var pois = results.detail.pois;
                if (pois == undefined) {
                    $(""#divMore"").html(""查询不到数据"");
                    var region = $(""#area-selector select:eq(1)"").find(""option:selected"").text();
                    searchKeyword(1, region);
                }
                else {
   ");
            WriteLiteral(@"                 for (var i = 0, l = pois.length; i < l; i++) {
                        var poi = pois[i];
                        if (typeof (poi.address) != ""undefined"") {
                            var parText = ""\'"" + poi.latLng + ""\'"" + "","" + ""\'"" + poi.address + ""\'"" + "","" + ""\'"" + poi.name + ""\'"";
                            $(""#nearAddress"").append('<li data-addr=\""' + poi.name + '\"" onclick=""choosePosition(' + parText + ')""> <i class=""ic_locate""></i><span class=""addr-name"">' + poi.name + '</span> ， <span class=""addr-detail"">' + poi.address + '</span></li>');
                        }
                    }
                    if (pois.length < 10) {
                        $(""#divMore"").html(""附近没有更多地址了"");
                        hasData = false;
                    }
                    else {
                        //$(""#divMore"").html(""加载更多..."");
                    }
                    pageIndex++;
                }
            },
            //若服务请求失败，则运行以下函数
            error");
            WriteLiteral(@": function () {
                $(""#divMore"").html(""查询不到数据"");
            }
        });
        $(""#divAdr"").hide();
        var isopenstore = $('#isOpenStore').val();
        if (isopenstore == 'True') {
            $(""#consigneeAddress"").bind('input propertychange', function () {
                var keyword = $(""#consigneeAddress"").val();
                if (keyword != """" && keyword != null) {
                    searchKeyword(1, '');
                }
            });
        }
    });

    //设置搜索的范围和关键字等属性
    function searchKeyword(index, region) {
        if (!isRefresh && index == 2) {
            isRefresh = true;
            return;
        }
        //$(""#container"").hide();
        $(""#divAdr"").show();
        var keyword = $(""#consigneeAddress"").val();
        if (keyword == """") {
            $.dialog.tips(""请输入要搜索的地址信息"");
            return;
        }
        if (region == '') {
            //region = $(""#area-selector select:eq(2)"").find(""option:selected"").text();//优先");
            WriteLiteral(@"区县
            //if (region == ""请选择"") {
            //    region = $(""#area-selector select:eq(1)"").find(""option:selected"").text();
            //}

            var provicestr = $(""#area-selector select:eq(0)"").find(""option:selected"").text();//省
            var citystr = $(""#area-selector select:eq(1)"").find(""option:selected"").text();//市
            var areastr = $(""#area-selector select:eq(2)"").find(""option:selected"").text();//区县
            if (provicestr != null && provicestr.length > 0) {
                var lastname = provicestr.substring(provicestr.length - 1, provicestr.length);//获取最后一个字判断是否是省或自治区
                if (lastname == ""省"" || provicestr.indexOf(""自治区"") != -1) {
                    region = provicestr;
                }
            }
            if (citystr !== ""请选择"" && areastr !== ""其他"") {
                region = region + citystr;//精确到省市
            }
            if (areastr !== ""请选择"" && areastr !== ""其他"") {
                region = region + areastr;//精确到省市区
            }
  ");
            WriteLiteral(@"      }
        if (region == ""请选择"") {
            region = '';
        }
        if (index == 1) {
            pageIndex = 0;
            hasData = true;
            $(""#nearAddress"").empty();
        }
        else {
            if (!hasData) {
                return;
            }
        }
        //根据输入的城市设置搜索范围
        searchService.setLocation(region);
        //设置搜索页码
        searchService.setPageIndex(pageIndex);
        //设置每页的结果数
        searchService.setPageCapacity(pageCapacity);
        //根据输入的关键字在搜索范围内检索
        searchService.search(keyword);
    }
    //--------滚动时，往下加载数据 start--------------

    function scrollLoadData() {
        var scrollTop = $(this).scrollTop();
        var scrollHeight = $(this)[0].scrollHeight;
        var windowHeight = $(this).height();
        if (scrollTop + windowHeight >= scrollHeight) {
            setTimeout(searchKeyword(2, ''), 200);
        }
    }
    $(window).scroll(function () {
        if (hasData)
            scrollLo");
            WriteLiteral(@"adData();
    });
    var isRefresh = true;
    var proId = 0, cityId = 0, districtId = 0, streetId = 0;
    function choosePosition(latLng, address, name) {
        $(""#Longitude"").val(latLng.split(',')[1].trim());
        $(""#Latitude"").val(latLng.split(',')[0].trim());
        isRefresh = false;
        $(""#divAdr"").hide();
        var queryData = {
            fromLatLng: latLng.split(',')[0].trim() + ',' + latLng.split(',')[1].trim(), url: """);
#nullable restore
#line 830 "C:\S\nopCommerce_4.30_dev\Presentation\Mall.Web\Areas\Web\Views\UserAddress\Index.cshtml"
                                                                                          Write(Url.Action("InitRegion"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"""
        }
        $.ajax({
            type: ""GET"",
            url: queryData.url,
            data: queryData,
            async: false,
            dataType: ""json"",
            success: function (data) {
                var fullPath = data.fullPath;//省，市，区，县 :1812,1813,1814,27074
                if (fullPath != '') {
                    var arr = fullPath.split(',');
                    if (arr.length >= 3) {
                        proId = arr[0]; cityId = arr[1]; districtId = arr[2];
                    }
                    if (arr.length >= 4) {
                        streetId = arr[3];
                    }
                }
                name = getNewAddress(name, data.showCity, data.street);// 过滤掉选择地址名称中的省市区街道
                $(""#consigneeAddress"").val(name);
                //初始化街道组合
                $(""#RegionId"").val(streetId > 0 ? streetId : districtId);
                $(""#area-selector"").RegionSelector({
                    selectClass: ""sele"",
                   ");
            WriteLiteral(@" valueHidden: ""#RegionId""
                });
                $(""#area-selector select"").change(function () {//每次选择地址后都要将详细地址清空，防止经纬度和地区不匹配
                    $(""#consigneeAddress"").val("""");
                });
            },
            error: function () {
                $.dialog.tips(""系统繁忙，请刷新重试"");
            }
        });
    }
    function getNewAddress(address, showCity, street) {
        if (showCity != '') {
            var storeAreaArr = showCity.split(' ');
            if (street != '') {
                storeAreaArr.push(street);
            }
            for (var i = 0; i < storeAreaArr.length; i++) {
                address = address.replace(storeAreaArr[i], '');
            }
        }
        return address;
    }
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<Mall.Entities.ShippingAddressInfo>> Html { get; private set; }
    }
}
#pragma warning restore 1591
